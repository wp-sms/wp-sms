import{r as i,t as ot,c as it,j as e,S as J,a as K,R as Ke,O as je,P as Ye,C as ye,b as Ze,X as we,T as ve,D as Ne,d as lt,e as dt,f as Qe,g as ct,h as ut,i as mt,k as xt,l as ft,m as pt,n as ht,o as U,L as ge,p as ae,q as Se,U as Me,B as Oe,s as ce,u as ue,M as te,v as es,G as ss,w as bt,x as gt,N as jt,y as yt,z as wt,A as vt,E as Nt,F as St,Z as kt,H as Ct,I as Rt,J as _t,K as ts,Q as as,V as rs,W as ns,Y as os,_ as is,$ as ke,a0 as At,a1 as ls,a2 as ds,a3 as Et,a4 as re,a5 as R,a6 as Dt,a7 as Mt,a8 as cs,a9 as Ot,aa as Tt,ab as It,ac as Pt,ad as $t,ae as us,af as zt,ag as ms,ah as xs,ai as fs,aj as ps,ak as hs,al as Ft,am as Bt,an as Ge,ao as Lt,ap as Wt,aq as Ut,ar as Gt,as as Ht,at as Vt,au as qt,av as Xt,aw as Jt,ax as Kt,ay as Yt,az as Zt,aA as Qt,aB as bs,aC as ea,aD as gs,aE as sa,aF as js,aG as ys,aH as ta,aI as ws,aJ as aa,aK as vs,aL as ra,aM as Ns,aN as Ss,aO as na,aP as oa,aQ as ks,aR as ia,aS as la,aT as Cs,aU as Rs,aV as da,aW as ca,aX as _s,aY as ua,aZ as ma,a_ as xa,a$ as fa,b0 as pa,b1 as M,b2 as ha,b3 as ba,b4 as ga,b5 as ja}from"./vendor.js";const De=768;function ya(){const[s,t]=i.useState(void 0);return i.useEffect(()=>{const a=window.matchMedia(`(max-width: ${De-1}px)`),r=()=>{t(window.innerWidth<De)};return a.addEventListener("change",r),t(window.innerWidth<De),()=>a.removeEventListener("change",r)},[]),!!s}function u(...s){return ot(it(s))}const Te=K("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),E=i.forwardRef(({className:s,variant:t,size:a,asChild:r=!1,...o},c)=>{const l=r?J:"button";return e.jsx(l,{className:u(Te({variant:t,size:a,className:s})),ref:c,...o})});E.displayName="Button";const z=i.forwardRef(({className:s,type:t,...a},r)=>e.jsx("input",{type:t,className:u("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...a}));z.displayName="Input";const Ie=i.forwardRef(({className:s,orientation:t="horizontal",decorative:a=!0,...r},o)=>e.jsx(Ke,{ref:o,decorative:a,orientation:t,className:u("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...r}));Ie.displayName=Ke.displayName;const wa=lt,va=Ye,As=i.forwardRef(({className:s,...t},a)=>e.jsx(je,{className:u("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:a}));As.displayName=je.displayName;const Na=K("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Es=i.forwardRef(({side:s="right",className:t,children:a,...r},o)=>e.jsxs(va,{children:[e.jsx(As,{}),e.jsxs(ye,{ref:o,className:u(Na({side:s}),t),...r,children:[e.jsxs(Ze,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),a]})]}));Es.displayName=ye.displayName;const Ds=({className:s,...t})=>e.jsx("div",{className:u("flex flex-col space-y-2 text-center sm:text-left",s),...t});Ds.displayName="SheetHeader";const Ms=i.forwardRef(({className:s,...t},a)=>e.jsx(ve,{ref:a,className:u("text-lg font-semibold text-foreground",s),...t}));Ms.displayName=ve.displayName;const Os=i.forwardRef(({className:s,...t},a)=>e.jsx(Ne,{ref:a,className:u("text-sm text-muted-foreground",s),...t}));Os.displayName=Ne.displayName;function He({className:s,...t}){return e.jsx("div",{className:u("animate-pulse rounded-md bg-primary/10",s),...t})}const Pe=ct,ne=ut,oe=mt,X=i.forwardRef(({className:s,sideOffset:t=4,...a},r)=>e.jsx(dt,{children:e.jsx(Qe,{ref:r,sideOffset:t,className:u("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...a})}));X.displayName=Qe.displayName;const Sa="sidebar_state",ka=60*60*24*7,Ca="16rem",Ra="18rem",_a="3rem",Aa="b",Ts=i.createContext(null);function Ce(){const s=i.useContext(Ts);if(!s)throw new Error("useSidebar must be used within a SidebarProvider.");return s}const Is=i.forwardRef(({defaultOpen:s=!0,open:t,onOpenChange:a,className:r,style:o,children:c,...l},n)=>{const d=ya(),[m,x]=i.useState(!1),[b,g]=i.useState(s),w=t??b,j=i.useCallback(f=>{const h=typeof f=="function"?f(w):f;a?a(h):g(h),document.cookie=`${Sa}=${h}; path=/; max-age=${ka}`},[a,w]),v=i.useCallback(()=>d?x(f=>!f):j(f=>!f),[d,j,x]);i.useEffect(()=>{const f=h=>{h.key===Aa&&(h.metaKey||h.ctrlKey)&&(h.preventDefault(),v())};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[v]);const C=w?"expanded":"collapsed",p=i.useMemo(()=>({state:C,open:w,setOpen:j,isMobile:d,openMobile:m,setOpenMobile:x,toggleSidebar:v}),[C,w,j,d,m,x,v]);return e.jsx(Ts.Provider,{value:p,children:e.jsx(Pe,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":Ca,"--sidebar-width-icon":_a,...o},className:u("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:n,...l,children:c})})})});Is.displayName="SidebarProvider";const me=i.forwardRef(({side:s="left",variant:t="sidebar",collapsible:a="offcanvas",className:r,children:o,...c},l)=>{const{isMobile:n,state:d,openMobile:m,setOpenMobile:x}=Ce();return a==="none"?e.jsx("div",{className:u("flex h-[90%] w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:l,...c,children:o}):n?e.jsx(wa,{open:m,onOpenChange:x,...c,children:e.jsxs(Es,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Ra},side:s,children:[e.jsxs(Ds,{className:"sr-only",children:[e.jsx(Ms,{children:"Sidebar"}),e.jsx(Os,{children:"Displays the mobile sidebar."})]}),e.jsx("div",{className:"flex h-[90%] w-full flex-col",children:o})]})}):e.jsxs("div",{ref:l,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?a:"","data-variant":t,"data-side":s,children:[e.jsx("div",{className:u("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:u("fixed inset-y-10 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",s==="left"?"group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...c,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-[90%] w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:o})})]})});me.displayName="Sidebar";const Ea=i.forwardRef(({className:s,onClick:t,...a},r)=>{const{toggleSidebar:o}=Ce();return e.jsxs(E,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:u("h-7 w-7",s),onClick:c=>{t==null||t(c),o()},...a,children:[e.jsx(xt,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Ea.displayName="SidebarTrigger";const Ps=i.forwardRef(({className:s,...t},a)=>{const{toggleSidebar:r}=Ce();return e.jsx("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:u("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",s),...t})});Ps.displayName="SidebarRail";const Da=i.forwardRef(({className:s,...t},a)=>e.jsx("main",{ref:a,className:u("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",s),...t}));Da.displayName="SidebarInset";const Ma=i.forwardRef(({className:s,...t},a)=>e.jsx(z,{ref:a,"data-sidebar":"input",className:u("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",s),...t}));Ma.displayName="SidebarInput";const xe=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"header",className:u("flex flex-col gap-2 p-2",s),...t}));xe.displayName="SidebarHeader";const Oa=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"footer",className:u("flex flex-col gap-2 p-2",s),...t}));Oa.displayName="SidebarFooter";const Ta=i.forwardRef(({className:s,...t},a)=>e.jsx(Ie,{ref:a,"data-sidebar":"separator",className:u("mx-2 w-auto bg-sidebar-border",s),...t}));Ta.displayName="SidebarSeparator";const fe=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"content",className:u("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",s),...t}));fe.displayName="SidebarContent";const pe=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"group",className:u("relative flex w-full min-w-0 flex-col p-2",s),...t}));pe.displayName="SidebarGroup";const he=i.forwardRef(({className:s,asChild:t=!1,...a},r)=>{const o=t?J:"div";return e.jsx(o,{ref:r,"data-sidebar":"group-label",className:u("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",s),...a})});he.displayName="SidebarGroupLabel";const Ia=i.forwardRef(({className:s,asChild:t=!1,...a},r)=>{const o=t?J:"button";return e.jsx(o,{ref:r,"data-sidebar":"group-action",className:u("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",s),...a})});Ia.displayName="SidebarGroupAction";const be=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"group-content",className:u("w-full text-sm",s),...t}));be.displayName="SidebarGroupContent";const B=i.forwardRef(({className:s,...t},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu",className:u("flex w-full min-w-0 flex-col gap-1",s),...t}));B.displayName="SidebarMenu";const L=i.forwardRef(({className:s,...t},a)=>e.jsx("li",{ref:a,"data-sidebar":"menu-item",className:u("group/menu-item relative",s),...t}));L.displayName="SidebarMenuItem";const Pa=K("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),W=i.forwardRef(({asChild:s=!1,isActive:t=!1,variant:a="default",size:r="default",tooltip:o,className:c,...l},n)=>{const d=s?J:"button",{isMobile:m,state:x}=Ce(),b=e.jsx(d,{ref:n,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:u(Pa({variant:a,size:r}),c),...l});return o?(typeof o=="string"&&(o={children:o}),e.jsxs(ne,{children:[e.jsx(oe,{asChild:!0,children:b}),e.jsx(X,{side:"right",align:"center",hidden:x!=="collapsed"||m,...o})]})):b});W.displayName="SidebarMenuButton";const $a=i.forwardRef(({className:s,asChild:t=!1,showOnHover:a=!1,...r},o)=>{const c=t?J:"button";return e.jsx(c,{ref:o,"data-sidebar":"menu-action",className:u("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",s),...r})});$a.displayName="SidebarMenuAction";const za=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"menu-badge",className:u("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s),...t}));za.displayName="SidebarMenuBadge";const Fa=i.forwardRef(({className:s,showIcon:t=!1,...a},r)=>{const o=i.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:u("flex h-8 items-center gap-2 rounded-md px-2",s),...a,children:[t&&e.jsx(He,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(He,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":o}})]})});Fa.displayName="SidebarMenuSkeleton";const $s=i.forwardRef(({className:s,...t},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu-sub",className:u("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",s),...t}));$s.displayName="SidebarMenuSub";const zs=i.forwardRef(({...s},t)=>e.jsx("li",{ref:t,...s}));zs.displayName="SidebarMenuSubItem";const Fs=i.forwardRef(({asChild:s=!1,size:t="md",isActive:a,className:r,...o},c)=>{const l=s?J:"a";return e.jsx(l,{ref:c,"data-sidebar":"menu-sub-button","data-size":t,"data-active":a,className:u("flex h-10 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...o})});Fs.displayName="SidebarMenuSubButton";const Ba=ft,La=pt,Wa=ht,Ua=K("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),I=i.forwardRef(({className:s,variant:t,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:u(Ua({variant:t}),s),...a}));I.displayName="Alert";const Ga=i.forwardRef(({className:s,...t},a)=>e.jsx("h5",{ref:a,className:u("mb-1 font-medium leading-none tracking-tight",s),...t}));Ga.displayName="AlertTitle";const P=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("text-sm [&_p]:leading-relaxed",s),...t}));P.displayName="AlertDescription";function Ha(){const[s,t]=i.useState(null),[a,r]=i.useState(!0),[o,c]=i.useState(null);return i.useEffect(()=>{(async()=>{try{r(!0),c(null);const n=window.WP_SMS_DATA;if(!n)throw new Error("WP_SMS_DATA not available");const d=await fetch(`${n.restUrl}settings/schema/list`,{headers:{"X-WP-Nonce":n.nonce,"Content-Type":"application/json"}});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const m=await d.json();if(!m.success)throw new Error(m.message||"Failed to fetch schema");t(m.data)}catch(n){c(n instanceof Error?n.message:"An error occurred"),console.error("Failed to fetch schema:",n)}finally{r(!1)}})()},[]),{data:s,loading:a,error:o}}const Va={contact_forms:te,community_membership:ue,ecommerce:ce,learning_events:ss,booking_appointments:es,support:Oe,jobs:Me,contact_form_7:te,gravityforms:te,quform:te,buddypress:ue,ultimate_member:ue,woocommerce:ce,edd:ce,awesome_support:Oe,job_manager:Me},qa={Settings:U,Cog:_t,MessageSquare:Rt,Send:Ct,Zap:kt,Star:St,Bell:Oe,Mail:te,Users:Me,MousePointer:Nt,MessageCircle:vt,Shield:wt,Lock:Se,ShoppingCart:ce,UserCheck:ue,GraduationCap:ss,Calendar:es,BarChart3:yt,Newspaper:jt,BadgeCheck:gt},Ve=(s,t="size-4")=>{const a=qa[s]||U;return e.jsx(a,{className:t})};function Xa({onGroupSelect:s,selectedGroup:t,...a}){const{data:r,loading:o,error:c}=Ha(),l=n=>{s&&s(n)};return o?e.jsxs(me,{collapsible:"icon",...a,children:[e.jsx(xe,{children:e.jsx(B,{children:e.jsx(L,{children:e.jsxs(W,{size:"lg",children:[e.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(U,{className:"size-4"})}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:"WP SMS"}),e.jsx("span",{className:"truncate text-xs text-muted-foreground",children:"Loading..."})]})]})})})}),e.jsx(fe,{children:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx(ge,{className:"h-6 w-6 animate-spin"})})})]}):c?e.jsxs(me,{collapsible:"icon",...a,children:[e.jsx(xe,{children:e.jsx(B,{children:e.jsx(L,{children:e.jsxs(W,{size:"lg",children:[e.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(U,{className:"size-4"})}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:"WP SMS"}),e.jsx("span",{className:"truncate text-xs text-muted-foreground",children:"Error"})]})]})})})}),e.jsx(fe,{children:e.jsxs(I,{variant:"destructive",className:"m-4",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsxs(P,{children:["Failed to load menu: ",c]})]})})]}):r?e.jsxs(me,{collapsible:"icon",...a,children:[e.jsx(xe,{children:e.jsx(B,{children:e.jsx(L,{children:e.jsxs(W,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[e.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(U,{className:"size-4"})}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:"WP SMS"}),e.jsx("span",{className:"truncate text-xs text-muted-foreground",children:"Admin Panel"})]})]})})})}),e.jsxs(fe,{children:[r.core&&Object.keys(r.core).length>0&&e.jsxs(pe,{children:[e.jsx(he,{children:"Core Settings"}),e.jsx(be,{children:e.jsx(B,{children:Object.entries(r.core).map(([n,d])=>e.jsx(L,{children:e.jsx(W,{asChild:!0,tooltip:d.label,onClick:()=>l(n),className:t===n?"bg-sidebar-accent text-sidebar-accent-foreground":"",children:e.jsxs("button",{className:"flex items-center gap-2 w-full text-left",children:[Ve(d.icon||"Settings"),e.jsx("span",{children:d.label})]})})},n))})})]}),r.addons&&Object.keys(r.addons).length>0&&e.jsxs(pe,{children:[e.jsx(he,{children:"Addons"}),e.jsx(be,{children:e.jsx(B,{children:Object.entries(r.addons).map(([n,d])=>e.jsx(L,{children:e.jsx(W,{asChild:!0,tooltip:`${d.label} (Pro)`,onClick:()=>l(n),className:t===n?"bg-sidebar-accent text-sidebar-accent-foreground":"",children:e.jsxs("button",{className:"flex items-center gap-2 w-full text-left",children:[Ve(d.icon||"Shield"),e.jsx("span",{children:d.label}),e.jsx(Se,{className:"size-3 text-orange-500 ml-auto"})]})})},n))})})]}),r.integrations&&r.integrations.children&&e.jsxs(pe,{children:[e.jsx(he,{children:r.integrations.label}),e.jsx(be,{children:e.jsx(B,{children:Object.entries(r.integrations.children).map(([n,d])=>{const m=Va[n]||U;return"children"in d&&d.children?e.jsx(Ba,{className:"group/collapsible",children:e.jsxs(L,{children:[e.jsx(La,{asChild:!0,children:e.jsxs(W,{tooltip:d.label,className:"flex items-center gap-2",children:[e.jsx(m,{className:"size-4"}),e.jsx("span",{children:d.label}),e.jsx(bt,{className:"ml-auto size-4 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})}),e.jsx(Wa,{children:e.jsx($s,{children:Object.entries(d.children).map(([x,b])=>"name"in b?e.jsx(zs,{children:e.jsx(Fs,{asChild:!0,onClick:()=>l(b.name),className:t===b.name?"bg-sidebar-accent text-sidebar-accent-foreground":"",children:e.jsx("button",{className:"w-full text-left",children:b.label})})},x):null)})})]})},n):null})})})]})]}),e.jsx(Ps,{})]}):null}const $=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("rounded-xl border bg-card text-card-foreground shadow",s),...t}));$.displayName="Card";const ie=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("flex flex-col space-y-1.5 p-6",s),...t}));ie.displayName="CardHeader";const Re=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("font-semibold leading-none tracking-tight",s),...t}));Re.displayName="CardTitle";const _e=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("text-sm text-muted-foreground",s),...t}));_e.displayName="CardDescription";const G=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("p-6 pt-0",s),...t}));G.displayName="CardContent";const Ja=i.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("flex items-center p-6 pt-0",s),...t}));Ja.displayName="CardFooter";const Ka=K("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _({className:s,variant:t,...a}){return e.jsx("div",{className:u(Ka({variant:t}),s),...a})}const Ya={new:{label:"New",color:"bg-green-100 text-green-800",icon:is},deprecated:{label:"Deprecated",color:"bg-red-100 text-red-800",icon:os},beta:{label:"Beta",color:"bg-yellow-100 text-yellow-800",icon:ns},pro:{label:"Pro",color:"bg-purple-100 text-purple-800",icon:rs},experimental:{label:"Experimental",color:"bg-orange-100 text-orange-800",icon:as},"coming-soon":{label:"Coming Soon",color:"bg-blue-100 text-blue-800",icon:ts}};function Za({section:s,children:t}){const a=s.tag?Ya[s.tag]:null,r=a==null?void 0:a.icon,o=()=>{switch(s.layout){case"2-column":return"grid grid-cols-1 md:grid-cols-2 gap-6";case"3-column":return"grid grid-cols-1 md:grid-cols-3 gap-6";default:return"space-y-6"}};return e.jsxs($,{className:`mb-6 ${s.readonly?"opacity-60 pointer-events-none":""}`,children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Re,{className:"text-xl",children:s.title}),s.readonly&&e.jsx(_,{variant:"secondary",className:"bg-gray-100 text-gray-600",children:"Read Only"}),a&&e.jsxs(_,{variant:"secondary",className:a.color,children:[r&&e.jsx(r,{className:"w-3 h-3 mr-1"}),a.label]})]}),s.subtitle&&e.jsx(_e,{className:"text-base",children:s.subtitle})]}),s.helpUrl&&!s.readonly&&e.jsx(E,{variant:"ghost",size:"sm",asChild:!0,className:"flex-shrink-0",children:e.jsxs("a",{href:s.helpUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Help"}),e.jsx(At,{className:"w-3 h-3"})]})})]})}),e.jsx(G,{children:e.jsx("div",{className:o(),children:t})})]})}const Qa=K("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),O=i.forwardRef(({className:s,...t},a)=>e.jsx(ls,{ref:a,className:u(Qa(),s),...t}));O.displayName=ls.displayName;function F({content:s,className:t}){return s?e.jsx("div",{className:u("text-sm text-muted-foreground [&_code]:bg-muted [&_code]:px-1 [&_code]:py-0.5 [&_code]:rounded [&_code]:text-xs [&_br]:block [&_br]:mb-2",t),dangerouslySetInnerHTML:{__html:s}}):null}const er={new:{label:"New",color:"bg-green-100 text-green-800",icon:is},deprecated:{label:"Deprecated",color:"bg-red-100 text-red-800",icon:os},beta:{label:"Beta",color:"bg-yellow-100 text-yellow-800",icon:ns},pro:{label:"Pro",color:"bg-purple-100 text-purple-800",icon:rs},experimental:{label:"Experimental",color:"bg-orange-100 text-orange-800",icon:as},"coming-soon":{label:"Coming Soon",color:"bg-blue-100 text-blue-800",icon:ts}};function Y({tag:s,className:t=""}){const a=er[s];if(!a)return null;const r=a.icon;return e.jsxs(_,{variant:"secondary",className:`${a.color} ${t}`,children:[r&&e.jsx(r,{className:"w-3 h-3 mr-1"}),a.label]})}function qe({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:d}=s;return e.jsxs("div",{className:`space-y-2 ${n?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{htmlFor:o,className:n?"text-muted-foreground":"",children:c}),n&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),d&&e.jsx(Y,{tag:d})]}),e.jsx(z,{id:o,value:t||"",onChange:m=>a(m.target.value),disabled:n,placeholder:s.placeholder}),l&&e.jsx("div",{className:n?"opacity-70":"",children:e.jsx(F,{content:l})}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}const $e=i.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:u("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...t}));$e.displayName="Textarea";function sr({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:d,rows:m}=s;return e.jsxs("div",{className:`space-y-2 ${n?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{htmlFor:o,className:n?"text-muted-foreground":"",children:c}),n&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),d&&e.jsx(Y,{tag:d})]}),e.jsx($e,{id:o,value:t||"",onChange:x=>a(x.target.value),disabled:n,rows:m,placeholder:s.placeholder}),l&&e.jsx("div",{className:n?"opacity-70":"",children:e.jsx(F,{content:l})}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}function tr({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:d,min:m,max:x,step:b}=s;return e.jsxs("div",{className:`space-y-2 ${n?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{htmlFor:o,className:n?"text-muted-foreground":"",children:c}),n&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),d&&e.jsx(Y,{tag:d})]}),e.jsx(z,{id:o,type:"number",value:t||"",onChange:g=>a(g.target.value),placeholder:s.placeholder,min:m,max:x,step:b,disabled:n}),l&&e.jsx("div",{className:n?"opacity-70":"",children:e.jsx(F,{content:l})}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}const Bs=i.forwardRef(({className:s,...t},a)=>e.jsx(ds,{ref:a,className:u("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(Et,{className:u("flex items-center justify-center text-current"),children:e.jsx(re,{className:"h-4 w-4"})})}));Bs.displayName=ds.displayName;function ar({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:d}=s;return e.jsxs("div",{className:`flex items-center space-x-2 ${n?"opacity-50":""}`,children:[e.jsx(Bs,{id:o,checked:t||!1,onCheckedChange:m=>a(m),disabled:n}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{htmlFor:o,className:n?"text-muted-foreground":"",children:c}),n&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),d&&e.jsx(Y,{tag:d})]}),l&&e.jsx("div",{className:n?"opacity-70":"",children:e.jsx(F,{content:l})}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}const rr=Ye,Ls=i.forwardRef(({className:s,...t},a)=>e.jsx(je,{ref:a,className:u("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));Ls.displayName=je.displayName;const nr=i.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(rr,{children:[e.jsx(Ls,{}),e.jsxs(ye,{ref:r,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(Ze,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nr.displayName=ye.displayName;const or=i.forwardRef(({className:s,...t},a)=>e.jsx(ve,{ref:a,className:u("text-lg font-semibold leading-none tracking-tight",s),...t}));or.displayName=ve.displayName;const ir=i.forwardRef(({className:s,...t},a)=>e.jsx(Ne,{ref:a,className:u("text-sm text-muted-foreground",s),...t}));ir.displayName=Ne.displayName;const ze=i.forwardRef(({className:s,...t},a)=>e.jsx(R,{ref:a,className:u("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...t}));ze.displayName=R.displayName;const Fe=i.forwardRef(({className:s,...t},a)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Dt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(R.Input,{ref:a,className:u("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...t})]}));Fe.displayName=R.Input.displayName;const Be=i.forwardRef(({className:s,...t},a)=>e.jsx(R.List,{ref:a,className:u("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...t}));Be.displayName=R.List.displayName;const Le=i.forwardRef((s,t)=>e.jsx(R.Empty,{ref:t,className:"py-6 text-center text-sm",...s}));Le.displayName=R.Empty.displayName;const H=i.forwardRef(({className:s,...t},a)=>e.jsx(R.Group,{ref:a,className:u("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...t}));H.displayName=R.Group.displayName;const lr=i.forwardRef(({className:s,...t},a)=>e.jsx(R.Separator,{ref:a,className:u("-mx-1 h-px bg-border",s),...t}));lr.displayName=R.Separator.displayName;const V=i.forwardRef(({className:s,...t},a)=>e.jsx(R.Item,{ref:a,className:u("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s),...t}));V.displayName=R.Item.displayName;const Ws=Ot,Us=Tt,We=i.forwardRef(({className:s,align:t="center",sideOffset:a=4,...r},o)=>e.jsx(Mt,{children:e.jsx(cs,{ref:o,align:t,sideOffset:a,className:u("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}));We.displayName=cs.displayName;function dr({options:s,value:t,onValueChange:a,placeholder:r="Select an option...",searchPlaceholder:o="Search options...",emptyText:c="No options found.",className:l}){const[n,d]=i.useState(!1),m=!Array.isArray(s)&&Object.values(s).some(g=>typeof g=="object"),b=(()=>{if(!t)return"";if(Array.isArray(s)){const g=s.find(w=>w.value===t||Object.keys(w)[0]===t);return g?g.label||Object.values(g)[0]:""}if(m){for(const[g,w]of Object.entries(s))if(typeof w=="object"){for(const[j,v]of Object.entries(w))if(j===t)return v}}else return s[t]||"";return""})();return e.jsxs(Ws,{open:n,onOpenChange:d,children:[e.jsx(Us,{asChild:!0,children:e.jsxs(E,{variant:"outline",role:"combobox","aria-expanded":n,className:u("w-full justify-between",l),children:[b||r,e.jsx(It,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(We,{className:"w-full p-0",align:"start",children:e.jsxs(ze,{children:[e.jsx(Fe,{placeholder:o}),e.jsxs(Be,{children:[e.jsx(Le,{children:c}),m?Object.entries(s).map(([g,w])=>typeof w=="object"?e.jsx(H,{heading:g,children:Object.entries(w).map(([j,v])=>e.jsxs(V,{value:j,onSelect:C=>{a(C===t?"":C),d(!1)},children:[e.jsx(re,{className:u("mr-2 h-4 w-4",t===j?"opacity-100":"opacity-0")}),v]},j))},g):null):Array.isArray(s)?e.jsx(H,{children:s.map(g=>{const w=g.value||Object.keys(g)[0],j=g.label||Object.values(g)[0];return e.jsxs(V,{value:w,onSelect:v=>{a(v===t?"":v),d(!1)},children:[e.jsx(re,{className:u("mr-2 h-4 w-4",t===w?"opacity-100":"opacity-0")}),j]},w)})}):e.jsx(H,{children:Object.entries(s).map(([g,w])=>e.jsxs(V,{value:g,onSelect:j=>{a(j===t?"":j),d(!1)},children:[e.jsx(re,{className:u("mr-2 h-4 w-4",t===g?"opacity-100":"opacity-0")}),w]},g))})]})]})})]})}function cr({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:d}=s;return e.jsxs("div",{className:`space-y-2 ${n?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{htmlFor:o,className:n?"text-muted-foreground":"",children:c}),n&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),d&&e.jsx(Y,{tag:d})]}),e.jsx(dr,{options:s.options,value:t||"",onValueChange:a,placeholder:"Select an option",searchPlaceholder:"Search options...",disabled:n}),l&&e.jsx("div",{className:n?"opacity-70":"",children:e.jsx(F,{content:l})}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}function ur({item:s,onRemove:t,onMoveUp:a,onMoveDown:r,canMoveUp:o,canMoveDown:c}){return e.jsxs(_,{variant:"secondary",className:"mr-1 mb-1 flex items-center gap-1",children:[o&&e.jsx("button",{type:"button",className:"p-0.5 hover:bg-muted rounded",onClick:a,"aria-label":"Move up",children:e.jsx(Pt,{className:"h-3 w-3"})}),c&&e.jsx("button",{type:"button",className:"p-0.5 hover:bg-muted rounded",onClick:r,"aria-label":"Move down",children:e.jsx($t,{className:"h-3 w-3"})}),e.jsx("span",{className:"flex-1",children:s.label}),e.jsx("button",{type:"button",className:"ml-1 p-0.5 hover:bg-muted rounded",onClick:()=>t(s.value),"aria-label":"Remove",children:e.jsx(we,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]})}function mr({item:s,onRemove:t}){return e.jsxs(_,{variant:"secondary",className:"mr-1 mb-1 flex items-center",children:[s.label,e.jsx("button",{type:"button",className:"ml-1 p-0.5 hover:bg-muted rounded",onClick:()=>t(s.value),"aria-label":"Remove",children:e.jsx(we,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]})}function xr({options:s,value:t=[],onValueChange:a,placeholder:r="Select options...",searchPlaceholder:o="Search options...",emptyText:c="No options found.",className:l,sortable:n=!1}){const[d,m]=i.useState(!1),x=!Array.isArray(s)&&Object.values(s).some(p=>typeof p=="object"),b=p=>{if(Array.isArray(s)){const f=s.find(h=>h.value===p||Object.keys(h)[0]===p);return f?f.label||Object.values(f)[0]:p}if(x){for(const[f,h]of Object.entries(s))if(typeof h=="object"){for(const[N,T]of Object.entries(h))if(N===p)return typeof T=="string"?T:p}}else{const f=s[p];return typeof f=="string"?f:p}return p},g=p=>{const f=t.includes(p)?t.filter(h=>h!==p):[...t,p];a(f)},w=p=>{a(t.filter(f=>f!==p))},j=p=>{if(p>0){const f=[...t],h=f[p];f[p]=f[p-1],f[p-1]=h,a(f)}},v=p=>{if(p<t.length-1){const f=[...t],h=f[p];f[p]=f[p+1],f[p+1]=h,a(f)}},C=t.map(p=>({value:p,label:b(p)}));return e.jsx("div",{className:u("w-full",l),children:e.jsxs(Ws,{open:d,onOpenChange:m,children:[e.jsx(Us,{asChild:!0,children:e.jsx(E,{variant:"outline",role:"combobox","aria-expanded":d,className:"w-full justify-between h-auto min-h-9 p-2",children:e.jsx("div",{className:"flex flex-wrap gap-1 flex-1",children:C.length>0?n?C.map((p,f)=>e.jsx(ur,{item:p,onRemove:w,onMoveUp:()=>j(f),onMoveDown:()=>v(f),canMoveUp:f>0,canMoveDown:f<C.length-1},p.value)):C.map((p,f)=>e.jsx(mr,{item:p,onRemove:w},p.value)):e.jsx("span",{className:"text-muted-foreground",children:r})})})}),e.jsx(We,{className:"w-full p-0",align:"start",children:e.jsxs(ze,{children:[e.jsx(Fe,{placeholder:o}),e.jsxs(Be,{children:[e.jsx(Le,{children:c}),x?Object.entries(s).map(([p,f])=>typeof f=="object"?e.jsx(H,{heading:p,children:Object.entries(f).map(([h,N])=>e.jsxs(V,{onSelect:()=>g(h),children:[e.jsx("div",{className:u("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.includes(h)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:t.includes(h)&&e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),typeof N=="string"?N:h]},h))},p):null):Array.isArray(s)?e.jsx(H,{children:s.map(p=>{const f=p.value||Object.keys(p)[0],h=p.label||Object.values(p)[0];return e.jsxs(V,{onSelect:()=>g(f),children:[e.jsx("div",{className:u("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.includes(f)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:t.includes(f)&&e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),typeof h=="string"?h:f]},f)})}):e.jsx(H,{children:Object.entries(s).map(([p,f])=>e.jsxs(V,{onSelect:()=>g(p),children:[e.jsx("div",{className:u("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.includes(p)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:t.includes(p)&&e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),typeof f=="string"?f:p]},p))})]})]})})]})})}function fr({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:d,sortable:m}=s;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{htmlFor:o,children:c}),d&&e.jsx(Y,{tag:d})]}),e.jsx(xr,{options:s.options,value:Array.isArray(t)?t:[],onValueChange:a,placeholder:"Select options",searchPlaceholder:"Search options...",sortable:m,disabled:n}),l&&e.jsx(F,{content:l}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}function pr({field:s}){const{label:t,description:a}=s;return e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ie,{className:"my-4"}),e.jsx("h3",{className:"text-lg font-semibold",children:t}),a&&e.jsx(F,{content:a})]})}function hr({field:s}){const{label:t,description:a}=s;return e.jsxs(I,{className:"border-blue-200 bg-blue-50 text-blue-800",children:[e.jsx(ae,{className:"h-4 w-4 text-blue-600"}),e.jsxs(P,{className:"text-blue-800",children:[e.jsx("div",{className:"font-medium",children:t}),a&&e.jsx("div",{className:"mt-1 text-sm",dangerouslySetInnerHTML:{__html:a}})]})]})}function br({field:s,value:t}){const{key:a,label:r,description:o,tag:c}=s;return e.jsxs("div",{className:"space-y-2",children:[r&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:r}),c&&e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:c})]}),e.jsx("div",{className:"[&_code]:bg-muted [&_code]:px-1 [&_code]:py-0.5 [&_code]:rounded [&_code]:text-xs [&_br]:block [&_br]:mb-2",dangerouslySetInnerHTML:{__html:t||""}}),o&&e.jsx(F,{content:o})]})}const gr=Ft,jr=zt,Gs=i.forwardRef(({className:s,...t},a)=>e.jsx(us,{className:u("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:a}));Gs.displayName=us.displayName;const Hs=i.forwardRef(({className:s,...t},a)=>e.jsxs(jr,{children:[e.jsx(Gs,{}),e.jsx(ms,{ref:a,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t})]}));Hs.displayName=ms.displayName;const Vs=({className:s,...t})=>e.jsx("div",{className:u("flex flex-col space-y-2 text-center sm:text-left",s),...t});Vs.displayName="AlertDialogHeader";const qs=({className:s,...t})=>e.jsx("div",{className:u("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});qs.displayName="AlertDialogFooter";const Xs=i.forwardRef(({className:s,...t},a)=>e.jsx(xs,{ref:a,className:u("text-lg font-semibold",s),...t}));Xs.displayName=xs.displayName;const Js=i.forwardRef(({className:s,...t},a)=>e.jsx(fs,{ref:a,className:u("text-sm text-muted-foreground",s),...t}));Js.displayName=fs.displayName;const Ks=i.forwardRef(({className:s,...t},a)=>e.jsx(ps,{ref:a,className:u(Te(),s),...t}));Ks.displayName=ps.displayName;const Ys=i.forwardRef(({className:s,...t},a)=>e.jsx(hs,{ref:a,className:u(Te({variant:"outline"}),"mt-2 sm:mt-0",s),...t}));Ys.displayName=hs.displayName;function yr({id:s,index:t,isLocked:a,canRemove:r,onRemove:o,children:c}){const[l,n]=i.useState(!1),{attributes:d,listeners:m,setNodeRef:x,transform:b,transition:g,isDragging:w}=Kt({id:s,disabled:a}),j={transform:Yt.Transform.toString(b),transition:g},v=()=>{o(),n(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs($,{ref:x,style:j,className:`relative transition-all duration-200 ${w?"opacity-50 scale-105 shadow-lg z-50":""} ${a?"cursor-not-allowed":""}`,children:[e.jsx(ie,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{...d,...m,className:`flex items-center justify-center w-6 h-6 rounded ${a?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing hover:bg-muted"}`,"aria-label":"Drag to reorder",children:e.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})}),e.jsxs("span",{className:"text-sm font-medium",children:["Item ",t+1]})]}),e.jsx(E,{type:"button",variant:"ghost",size:"sm",disabled:!r||a,className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",onClick:()=>n(!0),children:e.jsx(Qt,{className:"h-4 w-4"})})]})}),e.jsx(G,{className:"pt-0",children:c})]}),e.jsx(gr,{open:l,onOpenChange:n,children:e.jsxs(Hs,{children:[e.jsxs(Vs,{children:[e.jsx(Xs,{children:"Delete Item"}),e.jsxs(Js,{children:["Are you sure you want to delete Item ",t+1,"? This action cannot be undone."]})]}),e.jsxs(qs,{children:[e.jsx(Ys,{children:"Cancel"}),e.jsx(Ks,{onClick:v,children:"Delete"})]})]})})]})}function wr({label:s,description:t,tooltip:a,isPro:r=!1,isLocked:o=!1,minItems:c=0,maxItems:l=10,addButtonText:n="Add Item",children:d,value:m=[{}],onChange:x}){const[b,g]=i.useState(()=>m.map((f,h)=>({...f,id:f.id||`item-${Date.now()}-${h}`})));i.useEffect(()=>{g(m.map((f,h)=>({...f,id:f.id||`item-${Date.now()}-${h}`})))},[m]);const w=Bt(Ge(Jt,{activationConstraint:{distance:8}}),Ge(Xt,{coordinateGetter:qt})),j=()=>{if(b.length<l){const f={id:`item-${Date.now()}`},h=[...b,f];g(h),x==null||x(h)}},v=f=>{if(b.length>c){const h=b.filter((N,T)=>T!==f);g(h),x==null||x(h)}},C=(f,h)=>{const N=[...b];N[f]={...N[f],...h},g(N),x==null||x(N)},p=f=>{const{active:h,over:N}=f;if(h.id!==(N==null?void 0:N.id)){const T=b.findIndex(Z=>Z.id===h.id),Ae=b.findIndex(Z=>Z.id===(N==null?void 0:N.id)),de=Vt(b,T,Ae);g(de),x==null||x(de)}};return e.jsx(Pe,{children:e.jsxs("div",{className:`space-y-4 ${o?"opacity-60":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"text-sm font-medium leading-none",children:s}),a&&e.jsxs(ne,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(ke,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),e.jsx(X,{children:e.jsx("p",{className:"max-w-xs",children:a})})]}),r&&e.jsxs(ne,{children:[e.jsx(oe,{asChild:!0,children:e.jsxs(_,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800 hover:bg-orange-200",children:[e.jsx(Se,{className:"mr-1 h-3 w-3"}),"Pro"]})}),e.jsx(X,{children:e.jsx("p",{children:"This feature requires WP SMS Pro"})})]})]}),t&&e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:t}),e.jsx("div",{className:`space-y-3 ${o?"pointer-events-none":""}`,children:e.jsx(Lt,{sensors:w,collisionDetection:Wt,onDragEnd:p,children:e.jsx(Ut,{items:b.map(f=>f.id),strategy:Gt,children:b.map((f,h)=>e.jsx(yr,{id:f.id,index:h,isLocked:o,canRemove:b.length>c,onRemove:()=>v(h),children:d(h,N=>C(h,N),()=>v(h))},f.id))})})}),e.jsxs(E,{type:"button",variant:"outline",onClick:j,disabled:b.length>=l||o,className:"w-full",children:[e.jsx(Ht,{className:"mr-2 h-4 w-4"}),n]}),b.length>=l&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Maximum ",l," items allowed"]})]})})}function vr(s){const[t,a]=i.useState([]),[r,o]=i.useState(!1),[c,l]=i.useState(null);return i.useEffect(()=>{(async()=>{if(!s||s==="default"){a([]);return}try{o(!0),l(null);const d=window.WP_SMS_DATA;if(!d)throw new Error("WP_SMS_DATA not available");const m=await fetch(`${d.restUrl}gateways/fields/${s}`,{headers:{"X-WP-Nonce":d.nonce,"Content-Type":"application/json"}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const x=await m.json();if(!x.success)throw new Error(x.message||"Failed to fetch gateway fields");a(x.data)}catch(d){l(d instanceof Error?d.message:"An error occurred"),console.error("Failed to fetch gateway fields:",d)}finally{o(!1)}})()},[s]),{data:t,loading:r,error:c}}function le({label:s,description:t,tooltip:a,isPro:r=!1,isRequired:o=!1,isLocked:c=!1,children:l,htmlFor:n}){return e.jsx(Pe,{children:e.jsxs("div",{className:`space-y-2 ${c?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(O,{htmlFor:n,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${c?"text-muted-foreground":""}`,children:[s,o&&e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),c&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),a&&!c&&e.jsxs(ne,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(ke,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),e.jsx(X,{children:e.jsx("p",{className:"max-w-xs",children:a})})]}),r&&!c&&e.jsxs(ne,{children:[e.jsx(oe,{asChild:!0,children:e.jsxs(_,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800 hover:bg-orange-200",children:[e.jsx(Se,{className:"mr-1 h-3 w-3"}),"Pro"]})}),e.jsx(X,{children:e.jsx("p",{children:"This feature requires WP SMS Pro"})})]})]}),e.jsx("div",{className:c?"pointer-events-none":"",children:l}),t&&e.jsx("p",{className:`text-sm leading-relaxed ${c?"text-muted-foreground opacity-70":"text-muted-foreground"}`,children:t})]})})}const Nr=i.forwardRef(({className:s,...t},a)=>e.jsx(bs,{className:u("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:a,children:e.jsx(ea,{className:u("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Nr.displayName=bs.displayName;const Sr=ia,kr=la,Zs=i.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(gs,{ref:r,className:u("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(sa,{asChild:!0,children:e.jsx(js,{className:"h-4 w-4 opacity-50"})})]}));Zs.displayName=gs.displayName;const Qs=i.forwardRef(({className:s,...t},a)=>e.jsx(ys,{ref:a,className:u("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(ta,{className:"h-4 w-4"})}));Qs.displayName=ys.displayName;const et=i.forwardRef(({className:s,...t},a)=>e.jsx(ws,{ref:a,className:u("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(js,{className:"h-4 w-4"})}));et.displayName=ws.displayName;const st=i.forwardRef(({className:s,children:t,position:a="popper",...r},o)=>e.jsx(aa,{children:e.jsxs(vs,{ref:o,className:u("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...r,children:[e.jsx(Qs,{}),e.jsx(ra,{className:u("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(et,{})]})}));st.displayName=vs.displayName;const Cr=i.forwardRef(({className:s,...t},a)=>e.jsx(Ns,{ref:a,className:u("px-2 py-1.5 text-sm font-semibold",s),...t}));Cr.displayName=Ns.displayName;const tt=i.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(Ss,{ref:r,className:u("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(na,{children:e.jsx(re,{className:"h-4 w-4"})})}),e.jsx(oa,{children:t})]}));tt.displayName=Ss.displayName;const Rr=i.forwardRef(({className:s,...t},a)=>e.jsx(ks,{ref:a,className:u("-mx-1 my-1 h-px bg-muted",s),...t}));Rr.displayName=ks.displayName;const _r=i.forwardRef(({className:s,...t},a)=>e.jsx(Cs,{className:u("grid gap-2",s),...t,ref:a}));_r.displayName=Cs.displayName;const Ar=i.forwardRef(({className:s,...t},a)=>e.jsx(Rs,{ref:a,className:u("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(da,{className:"flex items-center justify-center",children:e.jsx(ca,{className:"h-3.5 w-3.5 fill-primary"})})}));Ar.displayName=Rs.displayName;const Er=i.forwardRef(({className:s,...t},a)=>e.jsxs(_s,{ref:a,className:u("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(ua,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(ma,{className:"absolute h-full bg-primary"})}),e.jsx(xa,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));Er.displayName=_s.displayName;function Dr({label:s,value:t,placeholder:a,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,onChange:d}){return e.jsx(le,{label:s,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,children:e.jsx(z,{value:t,placeholder:a,onChange:m=>d==null?void 0:d(m.target.value),disabled:n,className:"w-full"})})}function Mr({label:s,value:t,placeholder:a,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,onChange:d}){const[m,x]=i.useState(!1);return e.jsx(le,{label:s,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,children:e.jsxs("div",{className:"relative",children:[e.jsx(z,{type:m?"text":"password",value:t,placeholder:a,onChange:b=>d==null?void 0:d(b.target.value),disabled:n,className:"w-full pr-10"}),e.jsx(E,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!m),disabled:n,children:m?e.jsx(fa,{className:"h-4 w-4"}):e.jsx(pa,{className:"h-4 w-4"})})]})})}function Or({label:s,value:t,placeholder:a,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,rows:d=3,onChange:m}){return e.jsx(le,{label:s,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,children:e.jsx($e,{value:t,placeholder:a,rows:d,onChange:x=>m==null?void 0:m(x.target.value),disabled:n,className:"w-full resize-none"})})}function Tr({label:s,value:t,placeholder:a,options:r,description:o,tooltip:c,isPro:l,isRequired:n,isLocked:d,onChange:m}){return e.jsx(le,{label:s,description:o,tooltip:c,isPro:l,isRequired:n,isLocked:d,children:e.jsxs(Sr,{value:t,onValueChange:m,disabled:d,children:[e.jsx(Zs,{className:"w-full",children:e.jsx(kr,{placeholder:a})}),e.jsx(st,{children:r.map(x=>e.jsx(tt,{value:x.value,children:x.label},x.value))})]})})}function Ir({label:s,value:t="#ff6b35",description:a,tooltip:r,isPro:o,isLocked:c,onChange:l}){return e.jsx(le,{label:s,description:a,tooltip:r,isPro:o,isLocked:c,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{type:"color",value:t,onChange:n=>l==null?void 0:l(n.target.value),disabled:c,className:"w-12 h-10 p-1 border rounded cursor-pointer"}),e.jsx(z,{type:"text",value:t,onChange:n=>l==null?void 0:l(n.target.value),disabled:c,className:"flex-1",placeholder:"#ff6b35"})]})})}function Pr({gatewayName:s,formData:t,onFieldChange:a}){const{data:r,loading:o,error:c}=vr(s);return M.useEffect(()=>{r&&r.length>0&&r.forEach(l=>{l.id in t||a(l.id,"")})},[r,t,a]),o?e.jsx($,{children:e.jsxs(G,{className:"flex items-center justify-center py-8",children:[e.jsx(ge,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading gateway fields..."})]})}):c?e.jsx($,{children:e.jsx(G,{className:"py-4",children:e.jsx(I,{variant:"destructive",children:e.jsxs(P,{children:["Failed to load gateway fields: ",c]})})})}):!r||r.length===0?null:e.jsxs($,{children:[e.jsxs(ie,{children:[e.jsx(Re,{children:"Gateway Configuration"}),e.jsx(_e,{children:"Configure the specific settings for your selected gateway."})]}),e.jsx(G,{className:"space-y-6",children:(r||[]).map(l=>{const n=t[l.id]||"";switch(l.type){case"select":return e.jsx(Tr,{label:l.name,value:n,description:l.desc,options:l.options?Object.entries(l.options).map(([d,m])=>({value:d,label:m})):[],onChange:d=>a(l.id,d)},l.id);case"textarea":return e.jsx(Or,{label:l.name,value:n,description:l.desc,onChange:d=>a(l.id,d)},l.id);case"password":return e.jsx(Mr,{label:l.name,value:n,description:l.desc,onChange:d=>a(l.id,d)},l.id);default:return e.jsx(Dr,{label:l.name,value:n,description:l.desc,onChange:d=>a(l.id,d)},l.id)}})})]})}function $r(s,t){if(s.showIf){for(const[a,r]of Object.entries(s.showIf))if(t[a]!==r)return!1}if(s.hideIf){for(const[a,r]of Object.entries(s.hideIf))if(t[a]===r)return!1}return!0}function at(s,t){if(!s.options_depends_on)return s.options;const a=s.options_depends_on,r=t[a];if(!r||r.length===0)return s.options;if(Array.isArray(s.options))return s.options.filter(c=>r.includes(c.value??Object.keys(c)[0]));const o={};return Object.entries(s.options).forEach(([c,l])=>{r.includes(c)&&(o[c]=l)}),o}function zr(){const s=a=>{if(typeof window<"u"&&window.wp&&window.wp.media)try{const r=window.wp.media({title:"Select Image",button:{text:"Use this image"},multiple:!1});r.on("select",()=>{const o=r.state().get("selection").first().toJSON();a(o.url)}),r.open()}catch(r){console.error("Error opening WordPress media uploader:",r),t(a)}else console.warn("WordPress media uploader not available, using fallback"),t(a)},t=a=>{const r=document.createElement("input");r.type="file",r.accept="image/*",r.style.display="none",r.onchange=o=>{var l;const c=(l=o.target.files)==null?void 0:l[0];if(c){const n=URL.createObjectURL(c);a(n),setTimeout(()=>URL.revokeObjectURL(n),1e3)}document.body.contains(r)&&document.body.removeChild(r)},document.body.appendChild(r),r.click()};return{openMediaUploader:s}}function Fr({field:s,value:t,onChange:a,error:r}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:s.key,children:s.label}),e.jsx(ha,{country:"us",value:t||"",onChange:a,inputProps:{name:s.key,id:s.key,className:"w-full"},enableSearch:!0,enableAreaCodes:!0,enableAreaCodeStretch:!0,disableDropdown:!1,countryCodeEditable:!0,buttonStyle:{}}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}function rt({field:s,value:t,onChange:a,error:r,formData:o}){const{type:c}=s,n=(x=>x.options_depends_on?{...x,options:at(x,o)}:x)(s),{openMediaUploader:d}=zr();function m({field:x,value:b,onChange:g}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:x.label}),b&&e.jsx("img",{src:b,alt:"Preview",className:"mb-2 rounded border max-h-32"}),e.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border rounded bg-muted hover:bg-accent text-sm",onClick:()=>d(g),children:b?"Change Image":"Select Image"}),x.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:x.description})]})}switch(c){case"text":return e.jsx(qe,{field:n,value:t,onChange:a,error:r});case"textarea":return e.jsx(sr,{field:n,value:t,onChange:a,error:r});case"number":return e.jsx(tr,{field:n,value:t,onChange:a,error:r});case"checkbox":return e.jsx(ar,{field:n,value:t,onChange:a,error:r});case"select":case"advancedselect":case"countryselect":return e.jsx(cr,{field:n,value:t,onChange:a,error:r});case"multiselect":case"advancedmultiselect":return e.jsx(fr,{field:n,value:t,onChange:a,error:r});case"repeater":return e.jsx(wr,{label:n.label,description:n.description,value:t||[],onChange:a,children:(x,b,g)=>{const w=(t||[])[x]||{};return e.jsx("div",{className:"space-y-4",children:(n.fieldGroups||[]).map(j=>e.jsxs("div",{className:"space-y-4",children:[j.label&&e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:j.label}),j.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:j.description}),e.jsx("div",{className:`grid gap-4 ${j.layout==="2-column"?"grid-cols-1 md:grid-cols-2":j.layout==="3-column"?"grid-cols-1 md:grid-cols-3":"grid-cols-1"}`,children:(j.fields||[]).map(v=>{`${n.key}${x}${v.key}`;const C=w[v.key]||"";return e.jsx("div",{className:"space-y-2",children:e.jsx(rt,{field:v,value:C,onChange:p=>{b({[v.key]:p})},error:void 0,formData:o||{}})},v.key)})})]},j.key))})}});case"color":return e.jsx(Ir,{label:n.label,value:t,onChange:a,description:n.description});case"tel":return e.jsx(Fr,{field:n,value:t,onChange:a,error:r});case"gateway":return e.jsx(Pr,{field:n,value:t,onChange:a,error:r});case"header":return e.jsx(pr,{field:n,value:t,onChange:a,error:r});case"notice":return e.jsx(hr,{field:n,value:t,onChange:a,error:r});case"html":return e.jsx(br,{field:n,value:t,onChange:a,error:r});case"image":return e.jsx(m,{field:n,value:t,onChange:a});default:return console.warn(`Unknown field type: ${c}`),e.jsx(qe,{field:n,value:t,onChange:a,error:r})}}function Br(s){const t=i.useRef(null),a=i.useRef(null);s!==t.current&&(t.current=s,a.current=s);const r=i.useCallback((n,d)=>{a.current&&(a.current={...a.current,[n]:d})},[]),o=i.useCallback(()=>{if(!t.current||!a.current)return{};const n={};return Object.keys(a.current).forEach(d=>{const m=t.current[d],x=a.current[d];Array.isArray(x)&&Array.isArray(m)?JSON.stringify(x)!==JSON.stringify(m)&&(n[d]=x):x!==m&&(n[d]=x)}),n},[]),c=i.useCallback(()=>Object.keys(o()).length>0,[o]),l=i.useCallback(()=>{a.current=t.current},[]);return{updateValue:r,getChangedFields:o,hasChanges:c,resetChanges:l}}class nt extends Error{constructor(t,a){super(t),this.fields=a,this.name="ValidationError"}}class Lr{async saveSettings(t,a){try{const r=window.WP_SMS_DATA,o=`${r.restUrl}settings/save`;console.log("Saving settings to:",o,"with addon:",a);const c={settings:t,addon:a},l=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json","X-WP-Nonce":r.nonce},body:JSON.stringify(c)}),n=await l.json();if(!l.ok)if(l.status===422){const d=n;throw new nt(d.message,d.data.fields)}else{const d=n;throw new Error(d.message||"Failed to save settings")}return n}catch(r){throw r instanceof Error?r:new Error("Network error occurred while saving settings")}}}const Xe=new Lr;function Wr({schema:s,savedValues:t,loading:a,error:r,onSaveSuccess:o,onSchemaRefresh:c,onValuesRefresh:l}){var Ue;const[n,d]=M.useState({}),[m,x]=M.useState(!1),[b,g]=M.useState(null),[w,j]=M.useState({}),[v,C]=M.useState(!1),{updateValue:p,getChangedFields:f,hasChanges:h,resetChanges:N}=Br(t);M.useEffect(()=>{if(s){const y={};s.sections.forEach(S=>{S.fields.forEach(k=>{if(t&&t.hasOwnProperty(k.key))y[k.key]=t[k.key];else if(k.default!==void 0)y[k.key]=k.default;else switch(k.type){case"checkbox":y[k.key]=!1;break;case"multiselect":case"advancedmultiselect":y[k.key]=[];break;default:y[k.key]=""}})}),d(y),N()}},[s,t,N]);const T=(y,S)=>{d(D=>({...D,[y]:S})),p(y,S);const k=s==null?void 0:s.sections.flatMap(D=>D.fields).find(D=>D.key===y);k!=null&&k.auto_save_and_refresh&&Ae(y,S),s&&s.sections.flatMap(A=>A.fields).filter(A=>A.options_depends_on===y).forEach(A=>{const Q=n[A.key];if(Q&&Array.isArray(Q)){const Ee=at(A,{...n,[y]:S});let ee;if(Array.isArray(Ee)){const se=Ee.map(q=>q.value||Object.keys(q)[0]);ee=Q.filter(q=>se.includes(q))}else{const se=Object.keys(Ee);ee=Q.filter(q=>se.includes(q))}ee.length!==Q.length&&(d(se=>({...se,[A.key]:ee})),p(A.key,ee))}}),w[y]&&j(D=>{const A={...D};return delete A[y],A})},Ae=async(y,S)=>{try{x(!0),g(null),(await Xe.saveSettings({[y]:S},s==null?void 0:s.addon)).success?(C(!0),N(),c==null||c(),l==null||l(),setTimeout(()=>C(!1),3e3)):g("Failed to save field and refresh schema")}catch(k){g(k instanceof Error?k.message:"An unexpected error occurred")}finally{x(!1)}},de=async()=>{if(s){x(!0),g(null),j({});try{const y=f(),S=Object.keys(y);if(S.length===0){x(!1);return}(await Xe.saveSettings(y,s.addon)).success?(C(!0),d(D=>({...D,...y})),N(),o==null||o(S),setTimeout(()=>C(!1),3e3)):g("Failed to save settings")}catch(y){y instanceof nt?(j(y.fields),g("Please fix the validation errors below")):g(y instanceof Error?y.message:"An unexpected error occurred")}finally{x(!1)}}},Z=()=>{t&&(d(t),N()),j({}),C(!1)};return M.useEffect(()=>{v&&window.scrollTo({top:0,behavior:"smooth"})},[v]),M.useEffect(()=>{const y=S=>{if(h())return S.preventDefault(),S.returnValue="",""};return window.addEventListener("beforeunload",y),()=>{window.removeEventListener("beforeunload",y)}},[n,w]),a?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(ge,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading settings..."})]}):r?e.jsxs(I,{variant:"destructive",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx(P,{children:r})]}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsx($,{children:e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary/10 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:(()=>{const y=ba[s.icon]||U;return e.jsx(y,{})})()})}),e.jsxs("div",{children:[e.jsx(Re,{className:"text-xl",children:s.label}),e.jsx(_e,{children:"Configure your settings and preferences"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:s.sections.some(y=>y.helpUrl)&&e.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:(Ue=s.sections.find(y=>y.helpUrl))==null?void 0:Ue.helpUrl,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Help"]})})})]})})}),v&&e.jsxs(I,{className:"border-green-200 bg-green-50",children:[e.jsx(ga,{className:"h-4 w-4 text-green-600"}),e.jsx(P,{className:"text-green-800",children:"Settings saved successfully!"})]}),b&&e.jsxs(I,{variant:"destructive",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx(P,{children:b})]}),e.jsx("div",{className:"space-y-6",children:(s.sections||[]).map(y=>e.jsx(Za,{section:y,children:e.jsx("div",{className:"space-y-6",children:(y.fields||[]).filter(S=>$r(S,n)).map(S=>e.jsx(rt,{field:S,value:n[S.key],onChange:k=>T(S.key,k),error:w[S.key],formData:n},S.key))})},y.id))}),e.jsx($,{children:e.jsx(G,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{onClick:de,disabled:m||!h(),className:"min-w-[100px]",children:m?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"}),e.jsx(E,{variant:"outline",onClick:Z,disabled:m||!h(),children:"Reset"})]}),h()&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"You have unsaved changes"})]})})})]}):e.jsxs(I,{children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx(P,{children:"No settings schema available."})]})}function Ur(s){const[t,a]=i.useState(null),[r,o]=i.useState(!1),[c,l]=i.useState(null),n=async()=>{if(!s){a(null);return}try{o(!0),l(null);const m=window.WP_SMS_DATA;if(!m)throw new Error("WP_SMS_DATA not available");const x=await fetch(`${m.restUrl}settings/schema/group/${s}`,{headers:{"X-WP-Nonce":m.nonce,"Content-Type":"application/json"}});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const b=await x.json();if(!b.success)throw new Error(b.message||"Failed to fetch group schema");a(b.data)}catch(m){l(m instanceof Error?m.message:"An error occurred"),console.error("Failed to fetch group schema:",m)}finally{o(!1)}};return i.useEffect(()=>{n()},[s]),{data:t,loading:r,error:c,refresh:()=>{n()}}}function Gr(s){const[t,a]=i.useState(null),[r,o]=i.useState(!1),[c,l]=i.useState(null),n=async()=>{if(!s){a(null);return}try{o(!0),l(null);const m=window.WP_SMS_DATA;if(!m)throw new Error("WP_SMS_DATA not available");const x=await fetch(`${m.restUrl}settings/values/group/${s}`,{headers:{"X-WP-Nonce":m.nonce,"Content-Type":"application/json"}});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const b=await x.json();if(!b.success)throw new Error(b.message||"Failed to fetch group values");a(b.data)}catch(m){l(m instanceof Error?m.message:"An error occurred"),console.error("Failed to fetch group values:",m)}finally{o(!1)}};return i.useEffect(()=>{n()},[s]),{data:t,loading:r,error:c,refresh:()=>{n()}}}function Hr(){const s=()=>new URLSearchParams(window.location.search).get("group")||"general",[t,a]=i.useState(s),{data:r,loading:o,error:c,refresh:l}=Ur(t),{data:n,loading:d,error:m,refresh:x}=Gr(t),b=j=>{a(j);const v=new URL(window.location.href);v.searchParams.set("group",j),window.history.pushState({},"",v.toString())};i.useEffect(()=>{const j=()=>{const v=s();a(v)};return window.addEventListener("popstate",j),()=>window.removeEventListener("popstate",j)},[]);const g=o||d,w=c||m;return e.jsx(Is,{children:e.jsxs("div",{className:"flex w-full min-h-[600px]",children:[e.jsx(Xa,{onGroupSelect:b,selectedGroup:t}),e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your SMS plugin configuration and preferences."})]}),e.jsx(Wr,{schema:r,savedValues:n,loading:g,error:w,onSchemaRefresh:l,onValuesRefresh:x})]})})]})})}const Je=document.getElementById("wp-sms-settings-root");Je?ja.createRoot(Je).render(e.jsx(Hr,{})):(console.error("WP SMS Settings: Missing #wp-sms-settings-root element in DOM."),console.log("WP SMS Settings: Available elements with similar IDs:",Array.from(document.querySelectorAll('[id*="wp-sms"]')).map(s=>s.id)));
