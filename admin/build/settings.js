import{r as d,t as lt,c as dt,j as e,S as K,a as X,R as Ue,O as fe,P as He,C as pe,b as Ve,X as he,T as ge,D as be,d as ct,e as ut,f as qe,g as mt,h as xt,i as ft,k as pt,l as ht,m as gt,n as bt,o as W,L as xe,p as Z,q as je,U as Ce,B as Re,s as ne,u as oe,M as Y,v as Ke,G as Xe,w as jt,x as yt,N as wt,y as Nt,z as vt,A as St,E as kt,F as Ct,Z as Rt,H as _t,I as Dt,J as Et,K as Je,Q as Ye,V as Ze,W as Qe,Y as es,_ as ss,$ as ye,a0 as At,a1 as ts,a2 as as,a3 as It,a4 as Q,a5 as R,a6 as Tt,a7 as Ot,a8 as rs,a9 as Mt,aa as Pt,ab as $t,ac as ns,ad as _e,ae as os,af as is,ag as ls,ah as ds,ai as cs,aj as us,ak as ms,al as xs,am as fs,an as zt,ao as ps,ap as hs,aq as gs,ar as bs,as as js,at as Ft,au as Lt,av as Bt,aw as Wt,ax as Gt,ay as Ut,az as ys,aA as Ht,aB as ws,aC as Vt,aD as Ns,aE as vs,aF as qt,aG as Ss,aH as Kt,aI as ks,aJ as Xt,aK as Cs,aL as Rs,aM as Jt,aN as Yt,aO as _s,aP as Zt,aQ as Qt,aR as Ds,aS as Es,aT as ea,aU as sa,aV as As,aW as ta,aX as aa,aY as ra,aZ as na,a_ as oa,a$ as I,b0 as ia,b1 as la,b2 as da,b3 as ca}from"./vendor.js";const ke=768;function ua(){const[s,t]=d.useState(void 0);return d.useEffect(()=>{const a=window.matchMedia(`(max-width: ${ke-1}px)`),r=()=>{t(window.innerWidth<ke)};return a.addEventListener("change",r),t(window.innerWidth<ke),()=>a.removeEventListener("change",r)},[]),!!s}function u(...s){return lt(dt(s))}const De=X("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),D=d.forwardRef(({className:s,variant:t,size:a,asChild:r=!1,...o},c)=>{const l=r?K:"button";return e.jsx(l,{className:u(De({variant:t,size:a,className:s})),ref:c,...o})});D.displayName="Button";const $=d.forwardRef(({className:s,type:t,...a},r)=>e.jsx("input",{type:t,className:u("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...a}));$.displayName="Input";const Ee=d.forwardRef(({className:s,orientation:t="horizontal",decorative:a=!0,...r},o)=>e.jsx(Ue,{ref:o,decorative:a,orientation:t,className:u("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...r}));Ee.displayName=Ue.displayName;const ma=ct,xa=He,Is=d.forwardRef(({className:s,...t},a)=>e.jsx(fe,{className:u("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:a}));Is.displayName=fe.displayName;const fa=X("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ts=d.forwardRef(({side:s="right",className:t,children:a,...r},o)=>e.jsxs(xa,{children:[e.jsx(Is,{}),e.jsxs(pe,{ref:o,className:u(fa({side:s}),t),...r,children:[e.jsxs(Ve,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),a]})]}));Ts.displayName=pe.displayName;const Os=({className:s,...t})=>e.jsx("div",{className:u("flex flex-col space-y-2 text-center sm:text-left",s),...t});Os.displayName="SheetHeader";const Ms=d.forwardRef(({className:s,...t},a)=>e.jsx(ge,{ref:a,className:u("text-lg font-semibold text-foreground",s),...t}));Ms.displayName=ge.displayName;const Ps=d.forwardRef(({className:s,...t},a)=>e.jsx(be,{ref:a,className:u("text-sm text-muted-foreground",s),...t}));Ps.displayName=be.displayName;function Fe({className:s,...t}){return e.jsx("div",{className:u("animate-pulse rounded-md bg-primary/10",s),...t})}const Ae=mt,ee=xt,se=ft,q=d.forwardRef(({className:s,sideOffset:t=4,...a},r)=>e.jsx(ut,{children:e.jsx(qe,{ref:r,sideOffset:t,className:u("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...a})}));q.displayName=qe.displayName;const pa="sidebar_state",ha=60*60*24*7,ga="16rem",ba="18rem",ja="3rem",ya="b",$s=d.createContext(null);function we(){const s=d.useContext($s);if(!s)throw new Error("useSidebar must be used within a SidebarProvider.");return s}const zs=d.forwardRef(({defaultOpen:s=!0,open:t,onOpenChange:a,className:r,style:o,children:c,...l},n)=>{const i=ua(),[m,x]=d.useState(!1),[h,b]=d.useState(s),j=t??h,y=d.useCallback(p=>{const f=typeof p=="function"?p(j):p;a?a(f):b(f),document.cookie=`${pa}=${f}; path=/; max-age=${ha}`},[a,j]),N=d.useCallback(()=>i?x(p=>!p):y(p=>!p),[i,y,x]);d.useEffect(()=>{const p=f=>{f.key===ya&&(f.metaKey||f.ctrlKey)&&(f.preventDefault(),N())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[N]);const C=j?"expanded":"collapsed",g=d.useMemo(()=>({state:C,open:j,setOpen:y,isMobile:i,openMobile:m,setOpenMobile:x,toggleSidebar:N}),[C,j,y,i,m,x,N]);return e.jsx($s.Provider,{value:g,children:e.jsx(Ae,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":ga,"--sidebar-width-icon":ja,...o},className:u("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:n,...l,children:c})})})});zs.displayName="SidebarProvider";const ie=d.forwardRef(({side:s="left",variant:t="sidebar",collapsible:a="offcanvas",className:r,children:o,...c},l)=>{const{isMobile:n,state:i,openMobile:m,setOpenMobile:x}=we();return a==="none"?e.jsx("div",{className:u("flex h-[90%] w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:l,...c,children:o}):n?e.jsx(ma,{open:m,onOpenChange:x,...c,children:e.jsxs(Ts,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":ba},side:s,children:[e.jsxs(Os,{className:"sr-only",children:[e.jsx(Ms,{children:"Sidebar"}),e.jsx(Ps,{children:"Displays the mobile sidebar."})]}),e.jsx("div",{className:"flex h-[90%] w-full flex-col",children:o})]})}):e.jsxs("div",{ref:l,className:"group peer hidden text-sidebar-foreground md:block","data-state":i,"data-collapsible":i==="collapsed"?a:"","data-variant":t,"data-side":s,children:[e.jsx("div",{className:u("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:u("fixed inset-y-10 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",s==="left"?"group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...c,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-[90%] w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:o})})]})});ie.displayName="Sidebar";const wa=d.forwardRef(({className:s,onClick:t,...a},r)=>{const{toggleSidebar:o}=we();return e.jsxs(D,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:u("h-7 w-7",s),onClick:c=>{t==null||t(c),o()},...a,children:[e.jsx(pt,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});wa.displayName="SidebarTrigger";const Fs=d.forwardRef(({className:s,...t},a)=>{const{toggleSidebar:r}=we();return e.jsx("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:u("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",s),...t})});Fs.displayName="SidebarRail";const Na=d.forwardRef(({className:s,...t},a)=>e.jsx("main",{ref:a,className:u("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",s),...t}));Na.displayName="SidebarInset";const va=d.forwardRef(({className:s,...t},a)=>e.jsx($,{ref:a,"data-sidebar":"input",className:u("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",s),...t}));va.displayName="SidebarInput";const le=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"header",className:u("flex flex-col gap-2 p-2",s),...t}));le.displayName="SidebarHeader";const Sa=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"footer",className:u("flex flex-col gap-2 p-2",s),...t}));Sa.displayName="SidebarFooter";const ka=d.forwardRef(({className:s,...t},a)=>e.jsx(Ee,{ref:a,"data-sidebar":"separator",className:u("mx-2 w-auto bg-sidebar-border",s),...t}));ka.displayName="SidebarSeparator";const de=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"content",className:u("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",s),...t}));de.displayName="SidebarContent";const ce=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"group",className:u("relative flex w-full min-w-0 flex-col p-2",s),...t}));ce.displayName="SidebarGroup";const ue=d.forwardRef(({className:s,asChild:t=!1,...a},r)=>{const o=t?K:"div";return e.jsx(o,{ref:r,"data-sidebar":"group-label",className:u("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",s),...a})});ue.displayName="SidebarGroupLabel";const Ca=d.forwardRef(({className:s,asChild:t=!1,...a},r)=>{const o=t?K:"button";return e.jsx(o,{ref:r,"data-sidebar":"group-action",className:u("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",s),...a})});Ca.displayName="SidebarGroupAction";const me=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"group-content",className:u("w-full text-sm",s),...t}));me.displayName="SidebarGroupContent";const F=d.forwardRef(({className:s,...t},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu",className:u("flex w-full min-w-0 flex-col gap-1",s),...t}));F.displayName="SidebarMenu";const L=d.forwardRef(({className:s,...t},a)=>e.jsx("li",{ref:a,"data-sidebar":"menu-item",className:u("group/menu-item relative",s),...t}));L.displayName="SidebarMenuItem";const Ra=X("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),B=d.forwardRef(({asChild:s=!1,isActive:t=!1,variant:a="default",size:r="default",tooltip:o,className:c,...l},n)=>{const i=s?K:"button",{isMobile:m,state:x}=we(),h=e.jsx(i,{ref:n,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:u(Ra({variant:a,size:r}),c),...l});return o?(typeof o=="string"&&(o={children:o}),e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:h}),e.jsx(q,{side:"right",align:"center",hidden:x!=="collapsed"||m,...o})]})):h});B.displayName="SidebarMenuButton";const _a=d.forwardRef(({className:s,asChild:t=!1,showOnHover:a=!1,...r},o)=>{const c=t?K:"button";return e.jsx(c,{ref:o,"data-sidebar":"menu-action",className:u("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",s),...r})});_a.displayName="SidebarMenuAction";const Da=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,"data-sidebar":"menu-badge",className:u("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s),...t}));Da.displayName="SidebarMenuBadge";const Ea=d.forwardRef(({className:s,showIcon:t=!1,...a},r)=>{const o=d.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:u("flex h-8 items-center gap-2 rounded-md px-2",s),...a,children:[t&&e.jsx(Fe,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(Fe,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":o}})]})});Ea.displayName="SidebarMenuSkeleton";const Ls=d.forwardRef(({className:s,...t},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu-sub",className:u("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",s),...t}));Ls.displayName="SidebarMenuSub";const Bs=d.forwardRef(({...s},t)=>e.jsx("li",{ref:t,...s}));Bs.displayName="SidebarMenuSubItem";const Ws=d.forwardRef(({asChild:s=!1,size:t="md",isActive:a,className:r,...o},c)=>{const l=s?K:"a";return e.jsx(l,{ref:c,"data-sidebar":"menu-sub-button","data-size":t,"data-active":a,className:u("flex h-10 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...o})});Ws.displayName="SidebarMenuSubButton";const Aa=ht,Ia=gt,Ta=bt,Oa=X("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),O=d.forwardRef(({className:s,variant:t,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:u(Oa({variant:t}),s),...a}));O.displayName="Alert";const Ma=d.forwardRef(({className:s,...t},a)=>e.jsx("h5",{ref:a,className:u("mb-1 font-medium leading-none tracking-tight",s),...t}));Ma.displayName="AlertTitle";const M=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("text-sm [&_p]:leading-relaxed",s),...t}));M.displayName="AlertDescription";function Pa(){const[s,t]=d.useState(null),[a,r]=d.useState(!0),[o,c]=d.useState(null);return d.useEffect(()=>{(async()=>{try{r(!0),c(null);const n=window.WP_SMS_DATA;if(!n)throw new Error("WP_SMS_DATA not available");const i=await fetch(`${n.restUrl}settings/schema/list`,{headers:{"X-WP-Nonce":n.nonce,"Content-Type":"application/json"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const m=await i.json();if(!m.success)throw new Error(m.message||"Failed to fetch schema");t(m.data)}catch(n){c(n instanceof Error?n.message:"An error occurred"),console.error("Failed to fetch schema:",n)}finally{r(!1)}})()},[]),{data:s,loading:a,error:o}}const $a={contact_forms:Y,community_membership:oe,ecommerce:ne,learning_events:Xe,booking_appointments:Ke,support:Re,jobs:Ce,contact_form_7:Y,gravityforms:Y,quform:Y,buddypress:oe,ultimate_member:oe,woocommerce:ne,edd:ne,awesome_support:Re,job_manager:Ce},za={Settings:W,Cog:Et,MessageSquare:Dt,Send:_t,Zap:Rt,Star:Ct,Bell:Re,Mail:Y,Users:Ce,MousePointer:kt,MessageCircle:St,Shield:vt,Lock:je,ShoppingCart:ne,UserCheck:oe,GraduationCap:Xe,Calendar:Ke,BarChart3:Nt,Newspaper:wt,BadgeCheck:yt},Le=(s,t="size-4")=>{const a=za[s]||W;return e.jsx(a,{className:t})};function Fa({onGroupSelect:s,selectedGroup:t,...a}){const{data:r,loading:o,error:c}=Pa(),l=n=>{s&&s(n)};return o?e.jsxs(ie,{collapsible:"icon",...a,children:[e.jsx(le,{children:e.jsx(F,{children:e.jsx(L,{children:e.jsxs(B,{size:"lg",children:[e.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(W,{className:"size-4"})}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:"WP SMS"}),e.jsx("span",{className:"truncate text-xs text-muted-foreground",children:"Loading..."})]})]})})})}),e.jsx(de,{children:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx(xe,{className:"h-6 w-6 animate-spin"})})})]}):c?e.jsxs(ie,{collapsible:"icon",...a,children:[e.jsx(le,{children:e.jsx(F,{children:e.jsx(L,{children:e.jsxs(B,{size:"lg",children:[e.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(W,{className:"size-4"})}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:"WP SMS"}),e.jsx("span",{className:"truncate text-xs text-muted-foreground",children:"Error"})]})]})})})}),e.jsx(de,{children:e.jsxs(O,{variant:"destructive",className:"m-4",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsxs(M,{children:["Failed to load menu: ",c]})]})})]}):r?e.jsxs(ie,{collapsible:"icon",...a,children:[e.jsx(le,{children:e.jsx(F,{children:e.jsx(L,{children:e.jsxs(B,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[e.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(W,{className:"size-4"})}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:"WP SMS"}),e.jsx("span",{className:"truncate text-xs text-muted-foreground",children:"Admin Panel"})]})]})})})}),e.jsxs(de,{children:[r.core&&Object.keys(r.core).length>0&&e.jsxs(ce,{children:[e.jsx(ue,{children:"Core Settings"}),e.jsx(me,{children:e.jsx(F,{children:Object.entries(r.core).map(([n,i])=>e.jsx(L,{children:e.jsx(B,{asChild:!0,tooltip:i.label,onClick:()=>l(n),className:t===n?"bg-sidebar-accent text-sidebar-accent-foreground":"",children:e.jsxs("button",{className:"flex items-center gap-2 w-full text-left",children:[Le(i.icon||"Settings"),e.jsx("span",{children:i.label})]})})},n))})})]}),r.addons&&Object.keys(r.addons).length>0&&e.jsxs(ce,{children:[e.jsx(ue,{children:"Addons"}),e.jsx(me,{children:e.jsx(F,{children:Object.entries(r.addons).map(([n,i])=>e.jsx(L,{children:e.jsx(B,{asChild:!0,tooltip:`${i.label} (Pro)`,onClick:()=>l(n),className:t===n?"bg-sidebar-accent text-sidebar-accent-foreground":"",children:e.jsxs("button",{className:"flex items-center gap-2 w-full text-left",children:[Le(i.icon||"Shield"),e.jsx("span",{children:i.label}),e.jsx(je,{className:"size-3 text-orange-500 ml-auto"})]})})},n))})})]}),r.integrations&&r.integrations.children&&e.jsxs(ce,{children:[e.jsx(ue,{children:r.integrations.label}),e.jsx(me,{children:e.jsx(F,{children:Object.entries(r.integrations.children).map(([n,i])=>{const m=$a[n]||W;return"children"in i&&i.children?e.jsx(Aa,{className:"group/collapsible",children:e.jsxs(L,{children:[e.jsx(Ia,{asChild:!0,children:e.jsxs(B,{tooltip:i.label,className:"flex items-center gap-2",children:[e.jsx(m,{className:"size-4"}),e.jsx("span",{children:i.label}),e.jsx(jt,{className:"ml-auto size-4 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})}),e.jsx(Ta,{children:e.jsx(Ls,{children:Object.entries(i.children).map(([x,h])=>"name"in h?e.jsx(Bs,{children:e.jsx(Ws,{asChild:!0,onClick:()=>l(h.name),className:t===h.name?"bg-sidebar-accent text-sidebar-accent-foreground":"",children:e.jsx("button",{className:"w-full text-left",children:h.label})})},x):null)})})]})},n):null})})})]})]}),e.jsx(Fs,{})]}):null}const P=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("rounded-xl border bg-card text-card-foreground shadow",s),...t}));P.displayName="Card";const te=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("flex flex-col space-y-1.5 p-6",s),...t}));te.displayName="CardHeader";const Ne=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("font-semibold leading-none tracking-tight",s),...t}));Ne.displayName="CardTitle";const ve=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("text-sm text-muted-foreground",s),...t}));ve.displayName="CardDescription";const G=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("p-6 pt-0",s),...t}));G.displayName="CardContent";const La=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:u("flex items-center p-6 pt-0",s),...t}));La.displayName="CardFooter";const Ba=X("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _({className:s,variant:t,...a}){return e.jsx("div",{className:u(Ba({variant:t}),s),...a})}const Wa={new:{label:"New",color:"bg-green-100 text-green-800",icon:ss},deprecated:{label:"Deprecated",color:"bg-red-100 text-red-800",icon:es},beta:{label:"Beta",color:"bg-yellow-100 text-yellow-800",icon:Qe},pro:{label:"Pro",color:"bg-purple-100 text-purple-800",icon:Ze},experimental:{label:"Experimental",color:"bg-orange-100 text-orange-800",icon:Ye},"coming-soon":{label:"Coming Soon",color:"bg-blue-100 text-blue-800",icon:Je}};function Ga({section:s,children:t}){const a=s.tag?Wa[s.tag]:null,r=a==null?void 0:a.icon,o=()=>{switch(s.layout){case"2-column":return"grid grid-cols-1 md:grid-cols-2 gap-6";case"3-column":return"grid grid-cols-1 md:grid-cols-3 gap-6";default:return"space-y-6"}};return e.jsxs(P,{className:`mb-6 ${s.readonly?"opacity-60 pointer-events-none":""}`,children:[e.jsx(te,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ne,{className:"text-xl",children:s.title}),s.readonly&&e.jsx(_,{variant:"secondary",className:"bg-gray-100 text-gray-600",children:"Read Only"}),a&&e.jsxs(_,{variant:"secondary",className:a.color,children:[r&&e.jsx(r,{className:"w-3 h-3 mr-1"}),a.label]})]}),s.subtitle&&e.jsx(ve,{className:"text-base",children:s.subtitle})]}),s.helpUrl&&!s.readonly&&e.jsx(D,{variant:"ghost",size:"sm",asChild:!0,className:"flex-shrink-0",children:e.jsxs("a",{href:s.helpUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[e.jsx(ye,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Help"}),e.jsx(At,{className:"w-3 h-3"})]})})]})}),e.jsx(G,{children:e.jsx("div",{className:o(),children:t})})]})}const Ua=X("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),T=d.forwardRef(({className:s,...t},a)=>e.jsx(ts,{ref:a,className:u(Ua(),s),...t}));T.displayName=ts.displayName;function z({content:s,className:t}){return s?e.jsx("div",{className:u("text-sm text-muted-foreground [&_code]:bg-muted [&_code]:px-1 [&_code]:py-0.5 [&_code]:rounded [&_code]:text-xs [&_br]:block [&_br]:mb-2",t),dangerouslySetInnerHTML:{__html:s}}):null}const Ha={new:{label:"New",color:"bg-green-100 text-green-800",icon:ss},deprecated:{label:"Deprecated",color:"bg-red-100 text-red-800",icon:es},beta:{label:"Beta",color:"bg-yellow-100 text-yellow-800",icon:Qe},pro:{label:"Pro",color:"bg-purple-100 text-purple-800",icon:Ze},experimental:{label:"Experimental",color:"bg-orange-100 text-orange-800",icon:Ye},"coming-soon":{label:"Coming Soon",color:"bg-blue-100 text-blue-800",icon:Je}};function J({tag:s,className:t=""}){const a=Ha[s];if(!a)return null;const r=a.icon;return e.jsxs(_,{variant:"secondary",className:`${a.color} ${t}`,children:[r&&e.jsx(r,{className:"w-3 h-3 mr-1"}),a.label]})}function Be({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:i}=s;return e.jsxs("div",{className:`space-y-2 ${n?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{htmlFor:o,className:n?"text-muted-foreground":"",children:c}),n&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),i&&e.jsx(J,{tag:i})]}),e.jsx($,{id:o,value:t||"",onChange:m=>a(m.target.value),disabled:n,placeholder:s.placeholder}),l&&e.jsx("div",{className:n?"opacity-70":"",children:e.jsx(z,{content:l})}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}const Ie=d.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:u("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...t}));Ie.displayName="Textarea";function Va({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:i,rows:m}=s;return e.jsxs("div",{className:`space-y-2 ${n?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{htmlFor:o,className:n?"text-muted-foreground":"",children:c}),n&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),i&&e.jsx(J,{tag:i})]}),e.jsx(Ie,{id:o,value:t||"",onChange:x=>a(x.target.value),disabled:n,rows:m,placeholder:s.placeholder}),l&&e.jsx("div",{className:n?"opacity-70":"",children:e.jsx(z,{content:l})}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}function qa({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:i,min:m,max:x,step:h}=s;return e.jsxs("div",{className:`space-y-2 ${n?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{htmlFor:o,className:n?"text-muted-foreground":"",children:c}),n&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),i&&e.jsx(J,{tag:i})]}),e.jsx($,{id:o,type:"number",value:t||"",onChange:b=>a(b.target.value),placeholder:s.placeholder,min:m,max:x,step:h,disabled:n}),l&&e.jsx("div",{className:n?"opacity-70":"",children:e.jsx(z,{content:l})}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}const Gs=d.forwardRef(({className:s,...t},a)=>e.jsx(as,{ref:a,className:u("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(It,{className:u("flex items-center justify-center text-current"),children:e.jsx(Q,{className:"h-4 w-4"})})}));Gs.displayName=as.displayName;function Ka({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:i}=s;return e.jsxs("div",{className:`flex items-center space-x-2 ${n?"opacity-50":""}`,children:[e.jsx(Gs,{id:o,checked:t||!1,onCheckedChange:m=>a(m),disabled:n}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{htmlFor:o,className:n?"text-muted-foreground":"",children:c}),n&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),i&&e.jsx(J,{tag:i})]}),l&&e.jsx("div",{className:n?"opacity-70":"",children:e.jsx(z,{content:l})}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}const Xa=He,Us=d.forwardRef(({className:s,...t},a)=>e.jsx(fe,{ref:a,className:u("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));Us.displayName=fe.displayName;const Ja=d.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(Xa,{children:[e.jsx(Us,{}),e.jsxs(pe,{ref:r,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(Ve,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ja.displayName=pe.displayName;const Ya=d.forwardRef(({className:s,...t},a)=>e.jsx(ge,{ref:a,className:u("text-lg font-semibold leading-none tracking-tight",s),...t}));Ya.displayName=ge.displayName;const Za=d.forwardRef(({className:s,...t},a)=>e.jsx(be,{ref:a,className:u("text-sm text-muted-foreground",s),...t}));Za.displayName=be.displayName;const Te=d.forwardRef(({className:s,...t},a)=>e.jsx(R,{ref:a,className:u("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...t}));Te.displayName=R.displayName;const Oe=d.forwardRef(({className:s,...t},a)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Tt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(R.Input,{ref:a,className:u("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...t})]}));Oe.displayName=R.Input.displayName;const Me=d.forwardRef(({className:s,...t},a)=>e.jsx(R.List,{ref:a,className:u("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...t}));Me.displayName=R.List.displayName;const Pe=d.forwardRef((s,t)=>e.jsx(R.Empty,{ref:t,className:"py-6 text-center text-sm",...s}));Pe.displayName=R.Empty.displayName;const U=d.forwardRef(({className:s,...t},a)=>e.jsx(R.Group,{ref:a,className:u("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...t}));U.displayName=R.Group.displayName;const Qa=d.forwardRef(({className:s,...t},a)=>e.jsx(R.Separator,{ref:a,className:u("-mx-1 h-px bg-border",s),...t}));Qa.displayName=R.Separator.displayName;const H=d.forwardRef(({className:s,...t},a)=>e.jsx(R.Item,{ref:a,className:u("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s),...t}));H.displayName=R.Item.displayName;const Hs=Mt,Vs=Pt,$e=d.forwardRef(({className:s,align:t="center",sideOffset:a=4,...r},o)=>e.jsx(Ot,{children:e.jsx(rs,{ref:o,align:t,sideOffset:a,className:u("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}));$e.displayName=rs.displayName;function er({options:s,value:t,onValueChange:a,placeholder:r="Select an option...",searchPlaceholder:o="Search options...",emptyText:c="No options found.",className:l}){const[n,i]=d.useState(!1),m=!Array.isArray(s)&&Object.values(s).some(b=>typeof b=="object"),h=(()=>{if(!t)return"";if(Array.isArray(s)){const b=s.find(j=>j.value===t||Object.keys(j)[0]===t);return b?b.label||Object.values(b)[0]:""}if(m){for(const[b,j]of Object.entries(s))if(typeof j=="object"){for(const[y,N]of Object.entries(j))if(y===t)return N}}else return s[t]||"";return""})();return e.jsxs(Hs,{open:n,onOpenChange:i,children:[e.jsx(Vs,{asChild:!0,children:e.jsxs(D,{variant:"outline",role:"combobox","aria-expanded":n,className:u("w-full justify-between",l),children:[h||r,e.jsx($t,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx($e,{className:"w-full p-0",align:"start",children:e.jsxs(Te,{children:[e.jsx(Oe,{placeholder:o}),e.jsxs(Me,{children:[e.jsx(Pe,{children:c}),m?Object.entries(s).map(([b,j])=>typeof j=="object"?e.jsx(U,{heading:b,children:Object.entries(j).map(([y,N])=>e.jsxs(H,{value:y,onSelect:C=>{a(C===t?"":C),i(!1)},children:[e.jsx(Q,{className:u("mr-2 h-4 w-4",t===y?"opacity-100":"opacity-0")}),N]},y))},b):null):Array.isArray(s)?e.jsx(U,{children:s.map(b=>{const j=b.value||Object.keys(b)[0],y=b.label||Object.values(b)[0];return e.jsxs(H,{value:j,onSelect:N=>{a(N===t?"":N),i(!1)},children:[e.jsx(Q,{className:u("mr-2 h-4 w-4",t===j?"opacity-100":"opacity-0")}),y]},j)})}):e.jsx(U,{children:Object.entries(s).map(([b,j])=>e.jsxs(H,{value:b,onSelect:y=>{a(y===t?"":y),i(!1)},children:[e.jsx(Q,{className:u("mr-2 h-4 w-4",t===b?"opacity-100":"opacity-0")}),j]},b))})]})]})})]})}function sr({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:i}=s;return e.jsxs("div",{className:`space-y-2 ${n?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{htmlFor:o,className:n?"text-muted-foreground":"",children:c}),n&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),i&&e.jsx(J,{tag:i})]}),e.jsx(er,{options:s.options,value:t||"",onValueChange:a,placeholder:"Select an option",searchPlaceholder:"Search options...",disabled:n}),l&&e.jsx("div",{className:n?"opacity-70":"",children:e.jsx(z,{content:l})}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}function tr({item:s,idx:t,onRemove:a,listeners:r,attributes:o,isDragging:c,transform:l,transition:n}){return e.jsxs(_,{variant:"secondary",className:`mr-1 mb-1 flex items-center cursor-move ${c?"opacity-50":""}`,style:{transform:xs.Transform.toString(l),transition:n},...o,...r,children:[s.label,e.jsx("button",{type:"button",className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:i=>{i.key==="Enter"&&a(s.value)},onMouseDown:i=>{i.preventDefault(),i.stopPropagation()},onClick:()=>a(s.value),children:e.jsx(he,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},s.value)}function ar({options:s,value:t=[],onValueChange:a,placeholder:r="Select options...",searchPlaceholder:o="Search options...",emptyText:c="No options found.",className:l,sortable:n=!1}){const[i,m]=d.useState(!1),x=!Array.isArray(s)&&Object.values(s).some(g=>typeof g=="object"),h=g=>{if(Array.isArray(s)){const p=s.find(f=>f.value===g||Object.keys(f)[0]===g);return p?p.label||Object.values(p)[0]:g}if(x){for(const[p,f]of Object.entries(s))if(typeof f=="object"){for(const[v,E]of Object.entries(f))if(v===g)return E}}else return s[g]||g;return g},b=g=>{const p=t.includes(g)?t.filter(f=>f!==g):[...t,g];a(p)},j=g=>{a(t.filter(p=>p!==g))},y=ns(_e(os)),N=g=>{const{active:p,over:f}=g;if(p.id!==(f==null?void 0:f.id)){const v=t.indexOf(p.id),E=t.indexOf(f==null?void 0:f.id);v!==-1&&E!==-1&&a(us(t,v,E))}},C=t.map(g=>({value:g,label:h(g)}));return e.jsx("div",{className:u("w-full",l),children:e.jsxs(Hs,{open:i,onOpenChange:m,children:[e.jsx(Vs,{asChild:!0,children:e.jsx(D,{variant:"outline",role:"combobox","aria-expanded":i,className:"w-full justify-between h-auto min-h-9 p-2",children:e.jsx("div",{className:"flex flex-wrap gap-1 flex-1",children:C.length>0?n?e.jsx(is,{sensors:y,collisionDetection:ls,onDragEnd:N,children:e.jsx(ds,{items:t,strategy:cs,children:C.map((g,p)=>e.jsx(rr,{id:g.value,item:g,idx:p,onRemove:j},g.value))})}):C.map((g,p)=>e.jsxs(_,{variant:"secondary",className:"mr-1 mb-1 flex items-center",children:[g.label,e.jsx("button",{type:"button",className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:f=>{f.key==="Enter"&&j(g.value)},onMouseDown:f=>{f.preventDefault(),f.stopPropagation()},onClick:()=>j(g.value),children:e.jsx(he,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},g.value)):e.jsx("span",{className:"text-muted-foreground",children:r})})})}),e.jsx($e,{className:"w-full p-0",align:"start",children:e.jsxs(Te,{children:[e.jsx(Oe,{placeholder:o}),e.jsxs(Me,{children:[e.jsx(Pe,{children:c}),x?Object.entries(s).map(([g,p])=>typeof p=="object"?e.jsx(U,{heading:g,children:Object.entries(p).map(([f,v])=>e.jsxs(H,{onSelect:()=>b(f),children:[e.jsx("div",{className:u("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.includes(f)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:t.includes(f)&&e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),v]},f))},g):null):Array.isArray(s)?e.jsx(U,{children:s.map(g=>{const p=g.value||Object.keys(g)[0],f=g.label||Object.values(g)[0];return e.jsxs(H,{onSelect:()=>b(p),children:[e.jsx("div",{className:u("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.includes(p)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:t.includes(p)&&e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),f]},p)})}):e.jsx(U,{children:Object.entries(s).map(([g,p])=>e.jsxs(H,{onSelect:()=>b(g),children:[e.jsx("div",{className:u("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.includes(g)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:t.includes(g)&&e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),p]},g))})]})]})})]})})}function rr({id:s,item:t,idx:a,onRemove:r}){const{attributes:o,listeners:c,setNodeRef:l,transform:n,transition:i,isDragging:m}=ms({id:s});return e.jsx("span",{ref:l,style:{display:"inline-block"},children:e.jsx(tr,{item:t,idx:a,onRemove:r,listeners:c,attributes:o,isDragging:m,transform:n,transition:i})})}function nr({field:s,value:t,onChange:a,error:r}){const{key:o,label:c,description:l,readonly:n,tag:i,sortable:m}=s;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{htmlFor:o,children:c}),i&&e.jsx(J,{tag:i})]}),e.jsx(ar,{options:s.options,value:Array.isArray(t)?t:[],onValueChange:a,placeholder:"Select options",searchPlaceholder:"Search options...",sortable:m,disabled:n}),l&&e.jsx(z,{content:l}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}function or({field:s}){const{label:t,description:a}=s;return e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ee,{className:"my-4"}),e.jsx("h3",{className:"text-lg font-semibold",children:t}),a&&e.jsx(z,{content:a})]})}function ir({field:s}){const{label:t,description:a}=s;return e.jsxs(O,{className:"border-blue-200 bg-blue-50 text-blue-800",children:[e.jsx(Z,{className:"h-4 w-4 text-blue-600"}),e.jsxs(M,{className:"text-blue-800",children:[e.jsx("div",{className:"font-medium",children:t}),a&&e.jsx("div",{className:"mt-1 text-sm",dangerouslySetInnerHTML:{__html:a}})]})]})}function lr({field:s,value:t}){const{key:a,label:r,description:o,tag:c}=s;return e.jsxs("div",{className:"space-y-2",children:[r&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:r}),c&&e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:c})]}),e.jsx("div",{className:"[&_code]:bg-muted [&_code]:px-1 [&_code]:py-0.5 [&_code]:rounded [&_code]:text-xs [&_br]:block [&_br]:mb-2",dangerouslySetInnerHTML:{__html:t||""}}),o&&e.jsx(z,{content:o})]})}const dr=Ft,cr=zt,qs=d.forwardRef(({className:s,...t},a)=>e.jsx(fs,{className:u("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:a}));qs.displayName=fs.displayName;const Ks=d.forwardRef(({className:s,...t},a)=>e.jsxs(cr,{children:[e.jsx(qs,{}),e.jsx(ps,{ref:a,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t})]}));Ks.displayName=ps.displayName;const Xs=({className:s,...t})=>e.jsx("div",{className:u("flex flex-col space-y-2 text-center sm:text-left",s),...t});Xs.displayName="AlertDialogHeader";const Js=({className:s,...t})=>e.jsx("div",{className:u("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});Js.displayName="AlertDialogFooter";const Ys=d.forwardRef(({className:s,...t},a)=>e.jsx(hs,{ref:a,className:u("text-lg font-semibold",s),...t}));Ys.displayName=hs.displayName;const Zs=d.forwardRef(({className:s,...t},a)=>e.jsx(gs,{ref:a,className:u("text-sm text-muted-foreground",s),...t}));Zs.displayName=gs.displayName;const Qs=d.forwardRef(({className:s,...t},a)=>e.jsx(bs,{ref:a,className:u(De(),s),...t}));Qs.displayName=bs.displayName;const et=d.forwardRef(({className:s,...t},a)=>e.jsx(js,{ref:a,className:u(De({variant:"outline"}),"mt-2 sm:mt-0",s),...t}));et.displayName=js.displayName;function ur({id:s,index:t,isLocked:a,canRemove:r,onRemove:o,children:c}){const[l,n]=d.useState(!1),{attributes:i,listeners:m,setNodeRef:x,transform:h,transition:b,isDragging:j}=ms({id:s,disabled:a}),y={transform:xs.Transform.toString(h),transition:b},N=()=>{o(),n(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(P,{ref:x,style:y,className:`relative transition-all duration-200 ${j?"opacity-50 scale-105 shadow-lg z-50":""} ${a?"cursor-not-allowed":""}`,children:[e.jsx(te,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{...i,...m,className:`flex items-center justify-center w-6 h-6 rounded ${a?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing hover:bg-muted"}`,"aria-label":"Drag to reorder",children:e.jsx(Gt,{className:"h-4 w-4 text-muted-foreground"})}),e.jsxs("span",{className:"text-sm font-medium",children:["Item ",t+1]})]}),e.jsx(D,{type:"button",variant:"ghost",size:"sm",disabled:!r||a,className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",onClick:()=>n(!0),children:e.jsx(Ut,{className:"h-4 w-4"})})]})}),e.jsx(G,{className:"pt-0",children:c})]}),e.jsx(dr,{open:l,onOpenChange:n,children:e.jsxs(Ks,{children:[e.jsxs(Xs,{children:[e.jsx(Ys,{children:"Delete Item"}),e.jsxs(Zs,{children:["Are you sure you want to delete Item ",t+1,"? This action cannot be undone."]})]}),e.jsxs(Js,{children:[e.jsx(et,{children:"Cancel"}),e.jsx(Qs,{onClick:N,children:"Delete"})]})]})})]})}function mr({label:s,description:t,tooltip:a,isPro:r=!1,isLocked:o=!1,minItems:c=0,maxItems:l=10,addButtonText:n="Add Item",children:i,value:m=[{}],onChange:x}){const[h,b]=d.useState(()=>m.map((p,f)=>({...p,id:p.id||`item-${Date.now()}-${f}`})));d.useEffect(()=>{b(m.map((p,f)=>({...p,id:p.id||`item-${Date.now()}-${f}`})))},[m]);const j=ns(_e(os,{activationConstraint:{distance:8}}),_e(Wt,{coordinateGetter:Bt})),y=()=>{if(h.length<l){const p={id:`item-${Date.now()}`},f=[...h,p];b(f),x==null||x(f)}},N=p=>{if(h.length>c){const f=h.filter((v,E)=>E!==p);b(f),x==null||x(f)}},C=(p,f)=>{const v=[...h];v[p]={...v[p],...f},b(v),x==null||x(v)},g=p=>{const{active:f,over:v}=p;if(f.id!==(v==null?void 0:v.id)){const E=h.findIndex(V=>V.id===f.id),Se=h.findIndex(V=>V.id===(v==null?void 0:v.id)),re=us(h,E,Se);b(re),x==null||x(re)}};return e.jsx(Ae,{children:e.jsxs("div",{className:`space-y-4 ${o?"opacity-60":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"text-sm font-medium leading-none",children:s}),a&&e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsx(ye,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),e.jsx(q,{children:e.jsx("p",{className:"max-w-xs",children:a})})]}),r&&e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsxs(_,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800 hover:bg-orange-200",children:[e.jsx(je,{className:"mr-1 h-3 w-3"}),"Pro"]})}),e.jsx(q,{children:e.jsx("p",{children:"This feature requires WP SMS Pro"})})]})]}),t&&e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:t}),e.jsx("div",{className:`space-y-3 ${o?"pointer-events-none":""}`,children:e.jsx(is,{sensors:j,collisionDetection:ls,onDragEnd:g,children:e.jsx(ds,{items:h.map(p=>p.id),strategy:cs,children:h.map((p,f)=>e.jsx(ur,{id:p.id,index:f,isLocked:o,canRemove:h.length>c,onRemove:()=>N(f),children:i(f,v=>C(f,v),()=>N(f))},p.id))})})}),e.jsxs(D,{type:"button",variant:"outline",onClick:y,disabled:h.length>=l||o,className:"w-full",children:[e.jsx(Lt,{className:"mr-2 h-4 w-4"}),n]}),h.length>=l&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Maximum ",l," items allowed"]})]})})}function xr(s){const[t,a]=d.useState([]),[r,o]=d.useState(!1),[c,l]=d.useState(null);return d.useEffect(()=>{(async()=>{if(!s||s==="default"){a([]);return}try{o(!0),l(null);const i=window.WP_SMS_DATA;if(!i)throw new Error("WP_SMS_DATA not available");const m=await fetch(`${i.restUrl}gateways/fields/${s}`,{headers:{"X-WP-Nonce":i.nonce,"Content-Type":"application/json"}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const x=await m.json();if(!x.success)throw new Error(x.message||"Failed to fetch gateway fields");a(x.data)}catch(i){l(i instanceof Error?i.message:"An error occurred"),console.error("Failed to fetch gateway fields:",i)}finally{o(!1)}})()},[s]),{data:t,loading:r,error:c}}function ae({label:s,description:t,tooltip:a,isPro:r=!1,isRequired:o=!1,isLocked:c=!1,children:l,htmlFor:n}){return e.jsx(Ae,{children:e.jsxs("div",{className:`space-y-2 ${c?"opacity-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{htmlFor:n,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${c?"text-muted-foreground":""}`,children:[s,o&&e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),c&&e.jsx(_,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:"Read Only"}),a&&!c&&e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsx(ye,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),e.jsx(q,{children:e.jsx("p",{className:"max-w-xs",children:a})})]}),r&&!c&&e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsxs(_,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800 hover:bg-orange-200",children:[e.jsx(je,{className:"mr-1 h-3 w-3"}),"Pro"]})}),e.jsx(q,{children:e.jsx("p",{children:"This feature requires WP SMS Pro"})})]})]}),e.jsx("div",{className:c?"pointer-events-none":"",children:l}),t&&e.jsx("p",{className:`text-sm leading-relaxed ${c?"text-muted-foreground opacity-70":"text-muted-foreground"}`,children:t})]})})}const fr=d.forwardRef(({className:s,...t},a)=>e.jsx(ys,{className:u("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:a,children:e.jsx(Ht,{className:u("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));fr.displayName=ys.displayName;const pr=Zt,hr=Qt,st=d.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(ws,{ref:r,className:u("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(Vt,{asChild:!0,children:e.jsx(Ns,{className:"h-4 w-4 opacity-50"})})]}));st.displayName=ws.displayName;const tt=d.forwardRef(({className:s,...t},a)=>e.jsx(vs,{ref:a,className:u("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(qt,{className:"h-4 w-4"})}));tt.displayName=vs.displayName;const at=d.forwardRef(({className:s,...t},a)=>e.jsx(Ss,{ref:a,className:u("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Ns,{className:"h-4 w-4"})}));at.displayName=Ss.displayName;const rt=d.forwardRef(({className:s,children:t,position:a="popper",...r},o)=>e.jsx(Kt,{children:e.jsxs(ks,{ref:o,className:u("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...r,children:[e.jsx(tt,{}),e.jsx(Xt,{className:u("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(at,{})]})}));rt.displayName=ks.displayName;const gr=d.forwardRef(({className:s,...t},a)=>e.jsx(Cs,{ref:a,className:u("px-2 py-1.5 text-sm font-semibold",s),...t}));gr.displayName=Cs.displayName;const nt=d.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(Rs,{ref:r,className:u("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Jt,{children:e.jsx(Q,{className:"h-4 w-4"})})}),e.jsx(Yt,{children:t})]}));nt.displayName=Rs.displayName;const br=d.forwardRef(({className:s,...t},a)=>e.jsx(_s,{ref:a,className:u("-mx-1 my-1 h-px bg-muted",s),...t}));br.displayName=_s.displayName;const jr=d.forwardRef(({className:s,...t},a)=>e.jsx(Ds,{className:u("grid gap-2",s),...t,ref:a}));jr.displayName=Ds.displayName;const yr=d.forwardRef(({className:s,...t},a)=>e.jsx(Es,{ref:a,className:u("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(ea,{className:"flex items-center justify-center",children:e.jsx(sa,{className:"h-3.5 w-3.5 fill-primary"})})}));yr.displayName=Es.displayName;const wr=d.forwardRef(({className:s,...t},a)=>e.jsxs(As,{ref:a,className:u("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(ta,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(aa,{className:"absolute h-full bg-primary"})}),e.jsx(ra,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));wr.displayName=As.displayName;function Nr({label:s,value:t,placeholder:a,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,onChange:i}){return e.jsx(ae,{label:s,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,children:e.jsx($,{value:t,placeholder:a,onChange:m=>i==null?void 0:i(m.target.value),disabled:n,className:"w-full"})})}function vr({label:s,value:t,placeholder:a,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,onChange:i}){const[m,x]=d.useState(!1);return e.jsx(ae,{label:s,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,children:e.jsxs("div",{className:"relative",children:[e.jsx($,{type:m?"text":"password",value:t,placeholder:a,onChange:h=>i==null?void 0:i(h.target.value),disabled:n,className:"w-full pr-10"}),e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!m),disabled:n,children:m?e.jsx(na,{className:"h-4 w-4"}):e.jsx(oa,{className:"h-4 w-4"})})]})})}function Sr({label:s,value:t,placeholder:a,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,rows:i=3,onChange:m}){return e.jsx(ae,{label:s,description:r,tooltip:o,isPro:c,isRequired:l,isLocked:n,children:e.jsx(Ie,{value:t,placeholder:a,rows:i,onChange:x=>m==null?void 0:m(x.target.value),disabled:n,className:"w-full resize-none"})})}function kr({label:s,value:t,placeholder:a,options:r,description:o,tooltip:c,isPro:l,isRequired:n,isLocked:i,onChange:m}){return e.jsx(ae,{label:s,description:o,tooltip:c,isPro:l,isRequired:n,isLocked:i,children:e.jsxs(pr,{value:t,onValueChange:m,disabled:i,children:[e.jsx(st,{className:"w-full",children:e.jsx(hr,{placeholder:a})}),e.jsx(rt,{children:r.map(x=>e.jsx(nt,{value:x.value,children:x.label},x.value))})]})})}function Cr({label:s,value:t="#ff6b35",description:a,tooltip:r,isPro:o,isLocked:c,onChange:l}){return e.jsx(ae,{label:s,description:a,tooltip:r,isPro:o,isLocked:c,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{type:"color",value:t,onChange:n=>l==null?void 0:l(n.target.value),disabled:c,className:"w-12 h-10 p-1 border rounded cursor-pointer"}),e.jsx($,{type:"text",value:t,onChange:n=>l==null?void 0:l(n.target.value),disabled:c,className:"flex-1",placeholder:"#ff6b35"})]})})}function Rr({gatewayName:s,formData:t,onFieldChange:a}){const{data:r,loading:o,error:c}=xr(s);return I.useEffect(()=>{r&&r.length>0&&r.forEach(l=>{l.id in t||a(l.id,"")})},[r,t,a]),o?e.jsx(P,{children:e.jsxs(G,{className:"flex items-center justify-center py-8",children:[e.jsx(xe,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading gateway fields..."})]})}):c?e.jsx(P,{children:e.jsx(G,{className:"py-4",children:e.jsx(O,{variant:"destructive",children:e.jsxs(M,{children:["Failed to load gateway fields: ",c]})})})}):!r||r.length===0?null:e.jsxs(P,{children:[e.jsxs(te,{children:[e.jsx(Ne,{children:"Gateway Configuration"}),e.jsx(ve,{children:"Configure the specific settings for your selected gateway."})]}),e.jsx(G,{className:"space-y-6",children:(r||[]).map(l=>{const n=t[l.id]||"";switch(l.type){case"select":return e.jsx(kr,{label:l.name,value:n,description:l.desc,options:l.options?Object.entries(l.options).map(([i,m])=>({value:i,label:m})):[],onChange:i=>a(l.id,i)},l.id);case"textarea":return e.jsx(Sr,{label:l.name,value:n,description:l.desc,onChange:i=>a(l.id,i)},l.id);case"password":return e.jsx(vr,{label:l.name,value:n,description:l.desc,onChange:i=>a(l.id,i)},l.id);default:return e.jsx(Nr,{label:l.name,value:n,description:l.desc,onChange:i=>a(l.id,i)},l.id)}})})]})}function _r(s,t){if(s.showIf){for(const[a,r]of Object.entries(s.showIf))if(t[a]!==r)return!1}if(s.hideIf){for(const[a,r]of Object.entries(s.hideIf))if(t[a]===r)return!1}return!0}function Dr(s,t){if(!s.options_depends_on)return s.options;const a=s.options_depends_on,r=t[a];if(!r||r.length===0)return s.options;if(Array.isArray(s.options))return s.options.filter(c=>r.includes(c.value??Object.keys(c)[0]));const o={};return Object.entries(s.options).forEach(([c,l])=>{r.includes(c)&&(o[c]=l)}),o}function Er(){const s=a=>{if(typeof window<"u"&&window.wp&&window.wp.media)try{const r=window.wp.media({title:"Select Image",button:{text:"Use this image"},multiple:!1});r.on("select",()=>{const o=r.state().get("selection").first().toJSON();a(o.url)}),r.open()}catch(r){console.error("Error opening WordPress media uploader:",r),t(a)}else console.warn("WordPress media uploader not available, using fallback"),t(a)},t=a=>{const r=document.createElement("input");r.type="file",r.accept="image/*",r.style.display="none",r.onchange=o=>{var l;const c=(l=o.target.files)==null?void 0:l[0];if(c){const n=URL.createObjectURL(c);a(n),setTimeout(()=>URL.revokeObjectURL(n),1e3)}document.body.contains(r)&&document.body.removeChild(r)},document.body.appendChild(r),r.click()};return{openMediaUploader:s}}function Ar({field:s,value:t,onChange:a,error:r}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:s.key,children:s.label}),e.jsx(ia,{country:"us",value:t||"",onChange:a,inputProps:{name:s.key,id:s.key,className:"w-full"},enableSearch:!0,enableAreaCodes:!0,enableAreaCodeStretch:!0,disableDropdown:!1,countryCodeEditable:!0,buttonStyle:{}}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description}),r&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r})]})}function ot({field:s,value:t,onChange:a,error:r,formData:o}){const{type:c}=s,n=(x=>x.options_depends_on?{...x,options:Dr(x,o)}:x)(s),{openMediaUploader:i}=Er();function m({field:x,value:h,onChange:b}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:x.label}),h&&e.jsx("img",{src:h,alt:"Preview",className:"mb-2 rounded border max-h-32"}),e.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border rounded bg-muted hover:bg-accent text-sm",onClick:()=>i(b),children:h?"Change Image":"Select Image"}),x.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:x.description})]})}switch(c){case"text":return e.jsx(Be,{field:n,value:t,onChange:a,error:r});case"textarea":return e.jsx(Va,{field:n,value:t,onChange:a,error:r});case"number":return e.jsx(qa,{field:n,value:t,onChange:a,error:r});case"checkbox":return e.jsx(Ka,{field:n,value:t,onChange:a,error:r});case"select":case"advancedselect":case"countryselect":return e.jsx(sr,{field:n,value:t,onChange:a,error:r});case"multiselect":case"advancedmultiselect":return e.jsx(nr,{field:n,value:t,onChange:a,error:r});case"repeater":return e.jsx(mr,{label:n.label,description:n.description,value:t||[],onChange:a,children:(x,h,b)=>{const j=(t||[])[x]||{};return e.jsx("div",{className:"space-y-4",children:(n.fieldGroups||[]).map(y=>e.jsxs("div",{className:"space-y-4",children:[y.label&&e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:y.label}),y.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:y.description}),e.jsx("div",{className:`grid gap-4 ${y.layout==="2-column"?"grid-cols-1 md:grid-cols-2":y.layout==="3-column"?"grid-cols-1 md:grid-cols-3":"grid-cols-1"}`,children:(y.fields||[]).map(N=>{`${n.key}${x}${N.key}`;const C=j[N.key]||"";return e.jsx("div",{className:"space-y-2",children:e.jsx(ot,{field:N,value:C,onChange:g=>{h({[N.key]:g})},error:void 0,formData:o||{}})},N.key)})})]},y.key))})}});case"color":return e.jsx(Cr,{label:n.label,value:t,onChange:a,description:n.description});case"tel":return e.jsx(Ar,{field:n,value:t,onChange:a,error:r});case"gateway":return e.jsx(Rr,{field:n,value:t,onChange:a,error:r});case"header":return e.jsx(or,{field:n,value:t,onChange:a,error:r});case"notice":return e.jsx(ir,{field:n,value:t,onChange:a,error:r});case"html":return e.jsx(lr,{field:n,value:t,onChange:a,error:r});case"image":return e.jsx(m,{field:n,value:t,onChange:a});default:return console.warn(`Unknown field type: ${c}`),e.jsx(Be,{field:n,value:t,onChange:a,error:r})}}function Ir(s){const t=d.useRef(null),a=d.useRef(null);s!==t.current&&(t.current=s,a.current=s);const r=d.useCallback((n,i)=>{a.current&&(a.current={...a.current,[n]:i})},[]),o=d.useCallback(()=>{if(!t.current||!a.current)return{};const n={};return Object.keys(a.current).forEach(i=>{const m=t.current[i],x=a.current[i];Array.isArray(x)&&Array.isArray(m)?JSON.stringify(x)!==JSON.stringify(m)&&(n[i]=x):x!==m&&(n[i]=x)}),n},[]),c=d.useCallback(()=>Object.keys(o()).length>0,[o]),l=d.useCallback(()=>{a.current=t.current},[]);return{updateValue:r,getChangedFields:o,hasChanges:c,resetChanges:l}}class it extends Error{constructor(t,a){super(t),this.fields=a,this.name="ValidationError"}}class Tr{async saveSettings(t){try{const a=window.WP_SMS_DATA,r=`${a.restUrl}settings/save`;console.log("Saving settings to:",r);const o=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json","X-WP-Nonce":a.nonce},body:JSON.stringify(t)}),c=await o.json();if(!o.ok)if(o.status===422){const l=c;throw new it(l.message,l.data.fields)}else{const l=c;throw new Error(l.message||"Failed to save settings")}return c}catch(a){throw a instanceof Error?a:new Error("Network error occurred while saving settings")}}}const We=new Tr;function Or({schema:s,savedValues:t,loading:a,error:r,onSaveSuccess:o,onSchemaRefresh:c}){var V;const[l,n]=I.useState({}),[i,m]=I.useState(!1),[x,h]=I.useState(null),[b,j]=I.useState({}),[y,N]=I.useState(!1),{updateValue:C,getChangedFields:g,hasChanges:p,resetChanges:f}=Ir(t);I.useEffect(()=>{if(s){const w={};s.sections.forEach(S=>{S.fields.forEach(k=>{if(t&&t.hasOwnProperty(k.key))w[k.key]=t[k.key];else if(k.default!==void 0)w[k.key]=k.default;else switch(k.type){case"checkbox":w[k.key]=!1;break;case"multiselect":case"advancedmultiselect":w[k.key]=[];break;default:w[k.key]=""}})}),n(w),f()}},[s,t,f]);const v=(w,S)=>{n(A=>({...A,[w]:S})),C(w,S);const k=s==null?void 0:s.sections.flatMap(A=>A.fields).find(A=>A.key===w);k!=null&&k.auto_save_and_refresh&&E(w,S),b[w]&&j(A=>{const ze={...A};return delete ze[w],ze})},E=async(w,S)=>{try{m(!0),h(null),(await We.saveSettings({[w]:S})).success?(N(!0),f(),c==null||c(),setTimeout(()=>N(!1),3e3)):h("Failed to save field and refresh schema")}catch(k){h(k instanceof Error?k.message:"An unexpected error occurred")}finally{m(!1)}},Se=async()=>{if(s){m(!0),h(null),j({});try{const w=g(),S=Object.keys(w);if(S.length===0){m(!1);return}(await We.saveSettings(w)).success?(N(!0),n(A=>({...A,...w})),f(),o==null||o(S),setTimeout(()=>N(!1),3e3)):h("Failed to save settings")}catch(w){w instanceof it?(j(w.fields),h("Please fix the validation errors below")):h(w instanceof Error?w.message:"An unexpected error occurred")}finally{m(!1)}}},re=()=>{t&&(n(t),f()),j({}),N(!1)};return I.useEffect(()=>{y&&window.scrollTo({top:0,behavior:"smooth"})},[y]),I.useEffect(()=>{const w=S=>{if(p())return S.preventDefault(),S.returnValue="",""};return window.addEventListener("beforeunload",w),()=>{window.removeEventListener("beforeunload",w)}},[l,b]),a?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(xe,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading settings..."})]}):r?e.jsxs(O,{variant:"destructive",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx(M,{children:r})]}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{children:e.jsx(te,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary/10 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:(()=>{const w=la[s.icon]||W;return e.jsx(w,{})})()})}),e.jsxs("div",{children:[e.jsx(Ne,{className:"text-xl",children:s.label}),e.jsx(ve,{children:"Configure your settings and preferences"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:s.sections.some(w=>w.helpUrl)&&e.jsx(D,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:(V=s.sections.find(w=>w.helpUrl))==null?void 0:V.helpUrl,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Help"]})})})]})})}),y&&e.jsxs(O,{className:"border-green-200 bg-green-50",children:[e.jsx(da,{className:"h-4 w-4 text-green-600"}),e.jsx(M,{className:"text-green-800",children:"Settings saved successfully!"})]}),x&&e.jsxs(O,{variant:"destructive",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx(M,{children:x})]}),e.jsx("div",{className:"space-y-6",children:(s.sections||[]).map(w=>e.jsx(Ga,{section:w,children:e.jsx("div",{className:"space-y-6",children:(w.fields||[]).filter(S=>_r(S,l)).map(S=>e.jsx(ot,{field:S,value:l[S.key],onChange:k=>v(S.key,k),error:b[S.key],formData:l},S.key))})},w.id))}),e.jsx(P,{children:e.jsx(G,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{onClick:Se,disabled:i||!p(),className:"min-w-[100px]",children:i?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"}),e.jsx(D,{variant:"outline",onClick:re,disabled:i||!p(),children:"Reset"})]}),p()&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"You have unsaved changes"})]})})})]}):e.jsxs(O,{children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx(M,{children:"No settings schema available."})]})}function Mr(s){const[t,a]=d.useState(null),[r,o]=d.useState(!1),[c,l]=d.useState(null),n=async()=>{if(!s){a(null);return}try{o(!0),l(null);const m=window.WP_SMS_DATA;if(!m)throw new Error("WP_SMS_DATA not available");const x=await fetch(`${m.restUrl}settings/schema/group/${s}`,{headers:{"X-WP-Nonce":m.nonce,"Content-Type":"application/json"}});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const h=await x.json();if(!h.success)throw new Error(h.message||"Failed to fetch group schema");a(h.data)}catch(m){l(m instanceof Error?m.message:"An error occurred"),console.error("Failed to fetch group schema:",m)}finally{o(!1)}};return d.useEffect(()=>{n()},[s]),{data:t,loading:r,error:c,refresh:()=>{n()}}}function Pr(s){const[t,a]=d.useState(null),[r,o]=d.useState(!1),[c,l]=d.useState(null);return d.useEffect(()=>{(async()=>{if(!s){a(null);return}try{o(!0),l(null);const i=window.WP_SMS_DATA;if(!i)throw new Error("WP_SMS_DATA not available");const m=await fetch(`${i.restUrl}settings/values/group/${s}`,{headers:{"X-WP-Nonce":i.nonce,"Content-Type":"application/json"}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const x=await m.json();if(!x.success)throw new Error(x.message||"Failed to fetch group values");a(x.data)}catch(i){l(i instanceof Error?i.message:"An error occurred"),console.error("Failed to fetch group values:",i)}finally{o(!1)}})()},[s]),{data:t,loading:r,error:c}}function $r(){const s=()=>new URLSearchParams(window.location.search).get("group")||"general",[t,a]=d.useState(s),{data:r,loading:o,error:c,refresh:l}=Mr(t),{data:n,loading:i,error:m}=Pr(t),x=j=>{a(j);const y=new URL(window.location.href);y.searchParams.set("group",j),window.history.pushState({},"",y.toString())};d.useEffect(()=>{const j=()=>{const y=s();a(y)};return window.addEventListener("popstate",j),()=>window.removeEventListener("popstate",j)},[]);const h=o||i,b=c||m;return e.jsx(zs,{children:e.jsxs("div",{className:"flex w-full min-h-[600px]",children:[e.jsx(Fa,{onGroupSelect:x,selectedGroup:t}),e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your SMS plugin configuration and preferences."})]}),e.jsx(Or,{schema:r,savedValues:n,loading:h,error:b,onSchemaRefresh:l})]})})]})})}const Ge=document.getElementById("wp-sms-settings-root");Ge?ca.createRoot(Ge).render(e.jsx($r,{})):(console.error("WP SMS Settings: Missing #wp-sms-settings-root element in DOM."),console.log("WP SMS Settings: Available elements with similar IDs:",Array.from(document.querySelectorAll('[id*="wp-sms"]')).map(s=>s.id)));
